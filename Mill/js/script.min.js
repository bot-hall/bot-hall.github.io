window.onload=function(){function e(){if(!document.querySelector(".ordering__wrapper"))try{fbq("track","CompleteRegistration")}catch(e){console.error(e)}}function t(e,t){try{fbq("track","ViewContent",{content_ids:[e],content_type:t})}catch(e){console.error(e)}}if(document.querySelector("[data-fancybox]")&&Fancybox.bind("[data-fancybox]",{on:{init:(e,t)=>{document.querySelector("body").classList.add("body-not-scroll"),a()},shouldClose:(e,t)=>{document.querySelector("body").classList.remove("body-not-scroll"),a()}},closeButton:"outside"}),document.querySelectorAll(".social__auth-action").forEach(t=>{t.addEventListener("click",e,!1)}),document.querySelector(".ordering__wrapper")){document.getElementById("orderModal").classList.contains("show")||function(){let e=[];document.querySelectorAll(".basket__info-art").forEach(t=>{let o=t.textContent.replace("Арт.","");e.push(o.trim())});try{fbq("track","InitiateCheckout",{content_ids:[e],content_type:"product_group",currency:"UAH"})}catch(e){console.error(e)}}()}let o=document.querySelector(".card__description-art");if(o){t(o.textContent.replace("Арт.","").trim(),"product")}if(document.querySelector(".grid__catalog-wrapper")){let e=[];document.querySelectorAll("[data-sku]").forEach(t=>{e.push(t.getAttribute("data-sku"))}),t(e,"product_group")}function n(e){void 0===e.coincidence_code_validation?function(e){let t=document.querySelector(".shopping__inform-promo"),o=document.querySelector(".shopping__inform-certificate"),n=document.querySelector(".discount-error");e.coincidence_code_validation_promo.includes("**")||e.coincidence_code_validation_sertif.includes("**")?n.classList.add("gray"):n.classList.remove("gray");""!==e.coincidence_code_validation_promo?(n.textContent=e.coincidence_code_validation_promo,n.style.display="block",t.classList.remove("valid-promocode")):""!==e.coincidence_code_validation_sertif?(n.style.display="block",n.textContent=e.coincidence_code_validation_sertif,t.classList.remove("valid-promocode")):""!==t.value?(n.textContent="",n.style.display="none",t.classList.add("valid-promocode")):""!==o.value&&(n.textContent="",n.style.display="none",o.classList.add("valid-promocode"))}(e):function(e){let t=document.querySelector(".shopping__inform-promo"),o=document.querySelector(".shopping__inform-certificate"),n=document.querySelector(".discount-error");e.coincidence_code_validation.includes("**")?(n.classList.add("gray"),t.classList.add("valid-promocode")):n.classList.remove("gray");""!==e.coincidence_code_validation?(n.style.display="block",n.textContent=e.coincidence_code_validation,o.classList.remove("valid-promocode")):""!==t.value?(n.textContent="",n.style.display="none",t.classList.add("valid-promocode")):""!==o.value&&(n.textContent="",n.style.display="none",o.classList.add("valid-promocode"))}(e)}window.onbeforeunload=()=>{sessionStorage.getItem("firstLoad")||(document.cookie="firstLoad=false; expires=Thu, 01 Jan 1970 00:00:00 GMT;")};let r=new MutationObserver((function(e){e.forEach((function(e){let t=e.target.attributes.style.value,o=document.querySelector("header");if(t.includes("padding-right")){let e=t.split(" ")[1].split(";");y.classList.add("body-not-scroll"),o.style.paddingRight=e[0]}else o.style.paddingRight="",y.classList.remove("body-not-scroll")}))}));function a(){let e=document.querySelector("body");if(e.classList.contains("body-not-scroll")){let t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",document.body.append(t);let o=t.offsetWidth-t.clientWidth;t.remove(),0!=o&&(e.style.paddingRight=o+"px")}else e.style.paddingRight=""}let l,s,c,d,u,p,m,y=document.querySelector("body");function f(e,t,o=null){"inline"==t&&null==o&&(e.style.display="inline-block"),"inline"==t&&null!==o&&(e.style.display="inline-block",o.style.display="none"),"block"==t&&(e.style.display="block",o.style.display="none"),"flex"==t&&o&&(e.style.display="flex",o.style.display="none"),"flex"==t&&null==o&&(e.style.display="flex"),"none"==t&&(e.style.display="none")}function _(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function g(e,t){document.querySelectorAll(".card__description-size.active-size").forEach(e=>{e.classList.remove("active-size")}),1!=s||13!=e&&14!=e?1==s&&12==e?(S(d),q(c,d)):1==s&&11==e?(S(d),q(c,d,u)):2==s&&13==e?"ONE"==u?w(c,d):w(c,d,u):2==s&&12==e?w(c,d):2==s&&11==e?w(c,d,u):3==s&&12==e?b(c):3==s&&11==e?b(c,u):3==s&&13==e?"ONE"==u?b(c):b(c,u):2==s&&14==e||3==s&&14==e?(w(m,p,u),$("#availability").modal("hide")):1==s&&15==e||1==s&&17==e?(S(d),q(c,d)):2==s&&15==e||2==s&&17==e?w(c,d):3==s&&15==e||3==s&&17==e?b(c):1==s&&16==e?(S(d),q(c,d)):(2==s&&16==e||3==s&&16==e)&&w(c,d):t.classList.toggle("active-size")}function v(e){i=this,s=i.getAttribute("data-stock-status");let t,o=i.parentNode,n=o.classList;c=o.getAttribute("data-id"),d=o.getAttribute("data-shop"),u=i.textContent;let r=i.parentNode.parentNode.parentNode.classList.contains("city__sizes");p=i.parentNode.parentNode.parentNode.getAttribute("data-shop"),m=i.parentNode.parentNode.parentNode.getAttribute("data-id"),window.matchMedia("(min-width: 640px)").matches&&n.contains("product__sizes-container")?(t=11,g(t,i)):window.matchMedia("(min-width: 640px)").matches&&n.contains("product__buy-container")?(t=12,g(t,i)):n.contains("card__description__sizes-block")&&!r?(t=13,g(t,i)):r?(t=14,g(t,i)):n.contains("buy__container")?(t=15,g(t,i)):n.contains("city__sizes")?($("#availability").modal("hide"),t=16,g(t,i)):n.contains("table__btns-container")&&(t=17,g(t,i))}function h(){document.querySelectorAll("[data-stock-status]").forEach(e=>{e.addEventListener("click",v,!1)})}function b(e,t="ONE"){let o=j.querySelector(".pre-size");_(o),o.insertAdjacentHTML("afterbegin",`<button type="button" class="card__description-size" data-confirm=${e}>${t}</button>`),$(j).modal()}function w(e,t,o="ONE"){let n=document.querySelector("#preOrderModal").querySelector(".pre-size");_(n),n.insertAdjacentHTML("afterbegin",`<button type="button" class="card__description-size" data-shop="${t}" data-confirm=${e}>${o}</button>`),$("#preOrderModal").modal()}function S(e){let t={shop_id:e};$.ajax({url:"index.php?route=product/product/resorvedOfflineProduct",type:"post",data:t,dataType:"json",success:function(e){},error:function(e){throw new Error(e)}})}function q(e,t,o=""){let n={product_id:e,quantity:1,shop_id:t,option:{[e]:o}};$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:n,dataType:"json",success:function(t){!function(e){let t=document.querySelector(".basket__items"),o=document.querySelector(".basket__count-container");_(t),_(o),o.insertAdjacentHTML("beforeend",`\n            <div class="basket__count">\n                <div class="basket__count-title">${e.total[0].product_total_title}</div>\n                <div class="basket__count-price">${e.total[0].product_total_price}</div>\n            </div>\n        `),e.cart.forEach(e=>{t.insertAdjacentHTML("beforeend",`\n                <div class="basket__item">\n                    <a href="${e.product_href}" class="basket__img">\n                        <img src="${e.product_thumb}" alt="">\n                    </a>\n                    <div class="basket__info">\n                        <div class="basket__info-title">\n                            <a href="${e.product_href}" class="basket__info-title-text">${e.product_name}</a>\n                            <div role="button" class="_icon-cancel" data-remove-id=${e.cart_id}></div>\n                        </div>\n                        <div class="basket__info-art">Арт. ${e.product_sku}</div>\n                        <div class="basket__info__details">\n                            <div class="basket__info__details-sub">\n                                <div class="basket__info__details-size">${e.product_size}</div>\n                                <div class="basket__info__details-amount">\n                                    <div class="spinner-basket-container">\n                                        <div class="spinner-border spinner-basket" role="status">\n                                            <span class="sr-only">Загрузка...</span>\n                                        </div>\n                                    </div>\n                                    <button class="step stepDown" type="button" data-edit-id="${e.cart_id}">-</button>\n                                    <input type="number" min="1" max="${e.max}" value="${e.product_quantity}" readonly="" class="details-amount">\n                                    <button class="step stepUp" type="button" data-edit-id="${e.cart_id}">+</button>\n                                </div>\n                            </div>\n                            <div class="basket__info__price">\n                                <div class="basket__info__price-title">${e.product_title}</div>\n                                <div class="basket__info__price-cost">${e.product_price}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `)}),L.classList.toggle("show-effect"),A.classList.toggle("active-modal-basket"),I(e.total[0].products_total_count),F(),M(),R()}(t),function(e,t){let o=t.cart.find(t=>t.product_id===e);try{fbq("track","AddToCart",{content_ids:[o.product_sku],currency:"UAH"})}catch(e){console.error(e)}}(e,t)},error:function(e){throw new Error(e)}})}r.observe(y,{attributes:!0,attributeFilter:["style"]}),document.querySelector(".product-card-swiper")&&(l=new Swiper(".product-card-swiper",{watchOverflow:!0,slidesPerView:1,navigation:{nextEl:".product-card-swiper-next",prevEl:".product-card-swiper-prev"}})),h();let L,E,k,x=document.querySelector(".header-bag"),A=document.querySelector("#menu__mobile-modal"),N=document.querySelector(".ordering__wrapper"),j=document.getElementById("infoAvailability");function M(){let e=document.querySelectorAll(".basket__item");N&&0==e.length?window.location.replace(window.location.origin):N||0!=e.length?N||0===e.length||(L.querySelector(".basket__empty").style.display="none",L.querySelector(".basket__count-container").style.display="block",L.querySelector(".basket__submit-cont").style.display="flex"):(L.querySelector(".basket__empty").style.display="block",L.querySelector(".basket__count-container").style.display="none",L.querySelector(".basket__submit-cont").style.display="none")}function I(e){let t=document.querySelector(".products-total");_(t),e>0&&t.insertAdjacentHTML("beforeend",`(${e})`)}function B(e){let t=document.querySelector(".item-sum");document.querySelector(".item-count-number").textContent=e.products_total_count,0==e.sale_total_price?t.textContent=e.product_total_price:t.textContent=e.sale_total_price}function C(){document.querySelector("#universalModal").querySelectorAll(".universalModal").forEach(e=>{e.style.display="none"}),document.querySelector(".importantSizeModal").style.display="block",$("#universalModal").modal()}x&&(L=document.querySelector(".header__basket-wrapper"),E=L.querySelector(".close-basket"),k=L.querySelector(".basket__submit-continue")),x&&(x.addEventListener("click",e=>{e.target.classList.contains("header-bag")&&(L.classList.toggle("show-effect"),A.classList.toggle("active-modal-basket")),M()}),E.addEventListener("click",e=>{L.classList.toggle("show-effect"),A.classList.toggle("active-modal-basket")}),k.addEventListener("click",e=>{L.classList.toggle("show-effect"),A.classList.toggle("active-modal-basket")}),document.addEventListener("click",(function(e){let t=e.target;!function(e,t,o){let n=o==e||e.contains(o),r=o==t,a=e.classList.contains("show-effect");n||r||!a||(L.classList.toggle("show-effect"),A.classList.toggle("active-modal-basket"))}(L,x,t)})));let T=document.querySelector(".buy__container-btn");T&&T.addEventListener("click",e=>{let t=document.querySelector(".main-sizes").querySelector(".active-size");if(t){let e=t.parentNode.getAttribute("data-id"),o=t.textContent,n=t.getAttribute("data-shop");"ONE"==o?q(e,n):q(e,n,o),S(n),t.classList.toggle("active-size")}else C()});let z=document.querySelectorAll(".city__reserve");z.length>0&&z.forEach(e=>{e.addEventListener("click",t=>{let o=e.parentNode.querySelector(".active-size");if(o){let t=e.parentNode.getAttribute("data-id"),n=o.textContent,r=e.parentNode.getAttribute("data-shop");"ONE"==n?q(t,r):q(t,r,n),S(r),o.classList.toggle("active-size"),$("#availability").modal("toggle")}else $("#availability").modal("toggle"),C()})});let O=document.querySelector(".slider-cards__swiper"),P=document.querySelectorAll(".product__card-container-item");function V(){document.querySelectorAll("[data-prod-id]").forEach(e=>{e.addEventListener("click",H,!1)})}function H(e){i=this;let t=i.getAttribute("data-prod-id"),o=i.parentNode.parentNode.parentNode,n=o.querySelector("[data-json]"),r=o.querySelector("[data-id]"),a=n.getAttribute("data-json"),s=JSON.parse(a),c=n.querySelector(".favorit"),d=n.parentNode.parentNode.querySelector(".cross-out-price"),u=d.nextElementSibling;i.parentNode.querySelector(".focus-prod").classList.remove("focus-prod"),i.classList.add("focus-prod"),s.forEach(e=>{if(e.product_id==t){let t=o.querySelector(".product__buy-container");t.setAttribute("href",e.href);let n=t.querySelector(".product__sizes-container");o.querySelector(".product__card-sub-wrapper").setAttribute("href",e.href),r.setAttribute("data-id",e.product_id);let a=o.querySelector("._icon-bag");if(!1!==e.special?(d.textContent=e.price,u.textContent=e.special,u.classList.add("old-price")):(d.textContent="",u.textContent=e.price,u.classList.remove("old-price")),n){for(;n.firstChild;)n.removeChild(n.firstChild);e.sizes.forEach(e=>{2==e.stock_status_id?n.insertAdjacentHTML("beforeend",`\n                                <div class="product__sizes-item item-active" data-stock-status="${e.stock_status_id}">${e.size}</div>\n                            `):3==e.stock_status_id?n.insertAdjacentHTML("beforeend",`\n                                <div class="product__sizes-item inform-card" data-stock-status="${e.stock_status_id}">${e.size}</div>\n                            `):1==e.stock_status_id&&n.insertAdjacentHTML("beforeend",`\n                                <div class="product__sizes-item" data-stock-status="${e.stock_status_id}">${e.size}</div>\n                            `)}),document.querySelectorAll("[data-stock-status]").forEach(e=>{e.removeEventListener("click",v,!1)}),h()}else a&&e.sizes.forEach(e=>{a.setAttribute("data-stock-status",e.stock_status_id)});let i=o.querySelector(".product__card-sub-wrapper");for(;i.firstChild;)i.removeChild(i.firstChild);e.images.forEach(e=>{i.insertAdjacentHTML("afterbegin",`\n                            <div class="product__card-img-cont swiper-slide">\n                                <img class="slide-img" src="${e.href}">\n                            </div>\n                        `)}),Array.isArray(l)?l.map(e=>{e.update()}):l.update(),e.added_to_wishlist?(c.classList.remove("_icon-favorites"),c.classList.add("_icon-favorites-fill")):(c.classList.add("_icon-favorites"),c.classList.remove("_icon-favorites-fill"))}})}(O||P.length>0)&&V();let D=document.querySelector(".confirm__pre-order");function R(){let e=document.querySelectorAll(".step");e.length>0&&e.forEach(e=>{e.addEventListener("click",t=>{let o=e.parentNode.querySelector(".details-amount").value,n=e.getAttribute("data-edit-id");e.classList.contains("stepUp")&&!e.classList.contains("disabled-item")&&U(o,n,"+",e),e.classList.contains("stepDown")&&U(o,n,"-",e)})})}function U(e,t,o,r){let a=r.parentNode.querySelector(".spinner-basket-container"),l="",i="",s="",c="";document.querySelector(".shopping__inform-promo")&&(l=document.querySelector(".shopping__inform-promo").value),document.querySelector(".shopping__inform-certificate")&&(i=document.querySelector(".shopping__inform-certificate").value),N&&(s=r.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-magazine-id"),c=document.querySelector("#pay").value);let d={quantity:e,key:t,step:o,promo:l,certificate:i,shop_id:s,client_was_going_to_pay:c};$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:d,dataType:"json",beforeSend:function(){f(a,"flex")},success:function(e){if(f(a,"none"),e.is_max)r.classList.add("disabled-item");else{r.parentNode.querySelector(".stepUp").classList.remove("disabled-item"),N?(Y(e,r),B(e),n(e),"products not found!"!==e.shipping_methods&&W(e)):(Y(e,r),I(e.products_total_count))}},error:function(e){throw f(a,"none"),new Error(e)}})}function Y(e,t){let o=document.querySelector(".basket__count-price");if(e.value>0){let n=t.parentNode.querySelector(".details-amount"),r=t.parentNode.parentNode.parentNode.querySelector(".basket__info__price-cost");n.value=e.value,o.innerHTML=e.product_total_price,r.innerHTML=e.product_total}else t.parentNode.parentNode.parentNode.parentNode.parentNode.remove(),o.innerHTML=e.product_total_price;M()}function F(){let e=document.querySelectorAll("[data-remove-id]");e.length>0&&e.forEach(e=>{e.addEventListener("click",t=>{N?function(e){let t=e.parentNode.parentNode.parentNode.querySelector(".confirm__basket");t.style.display="flex",document.addEventListener("click",(function(o){let n=o.target,r=n==t||t.contains(n),a=n==e,l=t.style.display="flex",i=n.classList.contains("confirm__basket-no"),s=n.classList.contains("confirm__basket-yes");(!r&&!a&&l||i||s)&&(t.style.display="none")}))}(e):J(e.getAttribute("data-remove-id"),e)})})}function J(e,t){let o="",r="",a="";N&&(a=document.querySelector("#pay").value),document.querySelector(".shopping__inform-promo")&&(o=document.querySelector(".shopping__inform-promo").value),document.querySelector(".shopping__inform-certificate")&&(r=document.querySelector(".shopping__inform-certificate").value),data={key:e,promo:o,certificate:r,client_was_going_to_pay:a},$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:data,dataType:"json",success:function(e){if(N){t.parentNode.parentNode.parentNode.remove(),t.parentNode.parentNode.parentNode.remove(),document.querySelector(".basket__count-price").innerHTML=e.product_total_price,n(e),"products not found!"!==e.shipping_methods&&W(e),B(e),M()}else{t.parentNode.parentNode.parentNode.remove(),document.querySelector(".basket__count-price").innerHTML=e.product_total_price,M(),I(e.products_total_count)}},error:function(e){throw new Error(e)}})}function W(e){let t=document.getElementById("orderMethod"),o=Object.values(e.shipping_methods).filter(e=>!0===e.status);if(t.options.length-1!==o.length){_(t),t.insertAdjacentHTML("beforeend",'\n                <option value=""></option>\n            '),!0===e.shipping_methods.flat.status&&t.insertAdjacentHTML("beforeend",`\n                    <option value="flat">${e.shipping_methods.flat.name}</option>\n                `),!0===e.shipping_methods.novaposhta.status&&t.insertAdjacentHTML("beforeend",`\n                <option value="novaposhta">${e.shipping_methods.novaposhta.name}</option>\n            `),!0===e.shipping_methods.ukposhta.status&&t.insertAdjacentHTML("beforeend",`\n                <option value="ukposhta">${e.shipping_methods.ukposhta.name}</option>\n            `),!0===e.shipping_methods.justin.status&&t.insertAdjacentHTML("beforeend",`\n                <option value="justin">${e.shipping_methods.justin.name}</option>\n            `),$(".select__order-deliver").select2("destroy"),$(".select__order-deliver").select2({minimumResultsForSearch:-1,width:"100%"}),document.getElementById("shop").querySelector("option:checked").removeAttribute("selected"),_(document.getElementById("regions")),_(document.getElementById("cities")),_(document.getElementById("warehouses")),document.querySelector(".shop-method").style.display="none",document.querySelector(".other-method").style.display="none"}}D&&D.addEventListener("click",e=>{let t=document.querySelector("[data-confirm]"),o=t.getAttribute("data-confirm"),n=t.getAttribute("data-shop"),r=t.textContent;"ONE"==r?q(o,n):q(o,n,r),S(n)}),R(),F(),N&&document.querySelectorAll(".confirm__basket-yes").forEach(e=>{e.addEventListener("click",()=>{let t=e.parentNode.parentNode.parentNode.querySelector("[data-remove-id]");J(t.getAttribute("data-remove-id"),t)})});let G=document.querySelectorAll(".personal__title");function K(){let e=document.querySelectorAll(".product__buy-container");window.matchMedia("(min-width: 640px)").matches&&e.length>0&&e.forEach(e=>{e.addEventListener("click",Q,!1)})}function Q(e){i=this,i.classList.contains("long-size")||e.preventDefault()}
//! Confirm telephone in other pages
//!Header scroll
G.length>0&&G.forEach(e=>{e.addEventListener("click",t=>{e.classList.contains("active-title")||(!function(e){let t=document.querySelector(".personal-new"),o=document.querySelector(".personal-loged"),n=document.querySelector(".order__user-wrapper"),r=document.querySelector(".login__user-wrapper"),a=document.querySelector(".delivery__methods");e.classList.contains("personal-new")?(n.style.display="block",r.style.display="none",a.style.display="block",o.classList.remove("active-title")):e.classList.contains("personal-loged")&&(n.style.display="none",r.style.display="flex",a.style.display="none",t.classList.remove("active-title"))}(e),e.classList.toggle("active-title"))})}),K(),function(){let e=document.querySelector("header");e&&(window.oldScrollY=window.scrollY,document.onscroll=t=>{let o=window.oldScrollY>window.scrollY?1:2;window.oldScrollY=window.scrollY,2==o&&window.scrollY>400?e.style.transform="translateY(-100%)":1==o&&(e.style.transform="translateY(0)"),2==o&&window.scrollY>1500?document.getElementById("topBtn").style.display="flex":document.getElementById("topBtn").style.display="none"},document.getElementById("topBtn").onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})})}(),
//!header search
function(){let e=document.querySelector(".header-search"),t=document.querySelector(".header__search-wrapper"),o=document.querySelector(".search-input"),n=document.getElementById("searchForm");if(e){function r(){e.classList.toggle("_icon-search"),e.classList.toggle("_icon-cancel"),e.classList.toggle("rotate-anim"),t.classList.toggle("show-effect")}n.addEventListener("submit",(function(e){e.preventDefault();let t="index.php?route=product/search&search=";t+=encodeURIComponent(o.value),window.location=t})),o.addEventListener("input",(function(e){let t=o.value.length;if(t>=3)!async function(){let e={filter_name:o.value};$.ajax({url:"index.php?route=common/search/autocomplete/",type:"post",data:e,dataType:"json",success:function(e){let t=document.querySelector(".search__results-container");_(t),e.map(e=>{t.insertAdjacentHTML("beforeend",`<a href="${e.href}">${e.name}</a>`)})},error:function(e){throw new Error(e)}})}();else if(0==t||""==o.value){_(document.querySelector(".search__results-container"))}})),document.addEventListener("click",(function(o){let n=o.target,a=n==t||t.contains(n),l=n==e,i=t.classList.contains("show-effect");a||l||!i||r()})),e.addEventListener("click",e=>{r(),o.focus()})}}(),
//! auth
function(){let t=document.querySelector(".unknown-user"),o=document.querySelector(".auth__wrapper"),n=document.querySelector(".menu__mobile-unregistered"),r=document.querySelector(".personal__wrapper"),l=document.querySelector(".menu__icon"),i=document.querySelector(".menu__mobile-modal"),s=(document.querySelector(".auth__wrapper-checkout"),document.querySelector(".number__container"),document.querySelector(".auth__container"),document.querySelector(".auth__container-text"),document.querySelector(".refresh-form"),document.querySelector("#custom-modal")),c=document.querySelector("body");if(document.querySelector("#infoAvailability")){let e=document.querySelector(".modal__inform-capcha");document.querySelector(".modal__inform").addEventListener("submit",t=>{if(t.preventDefault(),""==e.value){let e=document.querySelector(".modal__inform-name").value,t=document.querySelector(".modal__inform-main-body");!function(e){$.ajax({url:"index.php?route=product/product/stockStatusReport",type:"post",data:e,dataType:"json",beforeSend:function(){document.querySelector(".spinner-inform-continer").style.display="flex"},success:function(e){document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__inform-main-body").style.display="none",document.querySelector(".modal__inform-success-body").style.display="flex"},error:function(e){throw document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__inform-main-body").style.display="none",document.querySelector(".modal-availability-error").style.display="block",new Error(e)}})}({user_name:e,product_id:t.querySelector(".card__description-size").getAttribute("data-confirm"),size:t.querySelector(".card__description-size").textContent})}}),$("#infoAvailability").on("hidden.bs.modal",(function(e){document.querySelector(".modal__inform-main-body").style.display="block",document.querySelector(".modal__inform-success-body").style.display="none",document.querySelector(".modal__inform-name").value="",document.querySelector(".modal__inform-email").value=""}))}if(t&&(
//!new
document.querySelector(".to-registration").addEventListener("click",e=>{r.classList.add("show-effect"),o.classList.remove("show-effect")}),n.addEventListener("click",e=>{"none"==getComputedStyle(o).display?(i.classList.toggle("active-modal"),r.classList.toggle("show-effect"),s.classList.toggle("show-modal")):(i.classList.toggle("active-modal"),o.classList.toggle("show-effect"),s.classList.toggle("show-modal"))}),t.addEventListener("click",e=>{"none"==getComputedStyle(o).display?(r.classList.toggle("show-effect"),s.classList.toggle("show-modal"),c.classList.toggle("body-not-scroll"),a()):(o.classList.toggle("show-effect"),s.classList.toggle("show-modal"),c.classList.toggle("body-not-scroll"),a())})),t&&document.addEventListener("click",(function(e){if("none"==getComputedStyle(o).display){let o=e.target,n=o==r||r.contains(o),l=o==t,i=r.classList.contains("show-effect");n||l||!i||e.target.classList.contains("menu__mobile-unregistered")||(r.classList.toggle("show-effect"),s.classList.toggle("show-modal"),c.classList.toggle("body-not-scroll"),a())}else{let n=e.target,r=n==o||o.contains(n),l=n==t,i=o.classList.contains("show-effect");r||l||!i||e.target.classList.contains("menu__mobile-unregistered")||(o.classList.toggle("show-effect"),s.classList.toggle("show-modal"),c.classList.toggle("body-not-scroll"),a())}})),t){let t=document.querySelector("#personal-data");t.addEventListener("submit",(function(o){o.preventDefault(),""==t.querySelector('input[name="chekoutPersone"]').value&&(e(),setTimeout(()=>{t.submit()},200))}))}if(l){let e=document.querySelector(".backpacks-js"),t=document.querySelector(".handbags-js"),o=document.querySelector(".accessories-js"),n=document.querySelector("body"),r=document.querySelector(".menu__mobile-wrapper");l.addEventListener("click",e=>{i.classList.toggle("active-modal"),n.classList.toggle("body-not-scroll"),a()}),document.addEventListener("click",(function(l){let s=l.target;(s.classList.contains("active-modal")||s.classList.contains("menu__mobile-close"))&&(i.classList.toggle("active-modal"),n.classList.toggle("body-not-scroll"),a()),(s.classList.contains("backpacks-js")||s.parentNode.classList.contains("backpacks-js"))&&e.querySelector(".menu__mob-sub-wrapper").classList.toggle("show-effect"),(s.classList.contains("handbags-js")||s.parentNode.classList.contains("handbags-js"))&&t.querySelector(".menu__mob-sub-wrapper").classList.toggle("show-effect"),(s.classList.contains("accessories-js")||s.parentNode.classList.contains("accessories-js"))&&o.querySelector(".menu__mob-sub-wrapper").classList.toggle("show-effect"),s.classList.contains("menu__mob-sub-title")&&s.parentNode.classList.toggle("show-effect"),r.querySelector(".show-effect")?r.classList.add("body-not-scroll"):r.classList.remove("body-not-scroll")}))}}(),
//! SWIPERs
function(){let e=document.querySelectorAll(".nuot-modal-swiper");if(e.length>0){let t=[];e.forEach(e=>{let o=e.parentNode.querySelector(".nuot-modal-swiper-next"),n=e.parentNode.querySelector(".nuot-modal-swiper-prev"),r=e.parentNode.querySelector(".nuot-modal-scrollbar");const a=new Swiper(e,{watchOverflow:!0,spaceBetween:20,slidesPerView:2,navigation:{nextEl:o,prevEl:n},scrollbar:{el:r,draggable:!0},breakpoints:{1024:{watchOverflow:!0,spaceBetween:57,slidesPerView:2,navigation:{nextEl:o,prevEl:n},scrollbar:{el:r,draggable:!0}},520:{watchOverflow:!0,spaceBetween:12,slidesPerView:2,navigation:{nextEl:o,prevEl:n},scrollbar:{el:r,draggable:!0}}}});t.push(a)}),document.querySelectorAll(".gallery-nuo-item").forEach(e=>{e.addEventListener("click",e=>{setTimeout(()=>{Array.isArray(t)?t.map(e=>{e.update()}):t.update()},400)})})}if(document.querySelector(".new-collection-slider")){window.matchMedia("(max-width: 520px)").matches&&new Swiper(".new-collection-slider",{pagination:{el:".new-collection-pagination"},watchOverflow:!0,breakpoints:{521:{slidesPerView:3}}})}if(document.querySelector(".sale__swiper")){new Swiper(".sale__swiper",{breakpoints:{769:{navigation:{nextEl:".sale-swiper-next",prevEl:".sale-swiper-prev"},scrollbar:{el:".sale-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,pagination:{el:".sale-swiper-pagination",type:"fraction"}})}if(document.querySelector(".blog__swiper")){new Swiper(".blog__swiper",{breakpoints:{769:{spaceBetween:20,navigation:{nextEl:".blog-swiper-next",prevEl:".blog-swiper-prev"},scrollbar:{el:".blog-swiper-scrollbar",draggable:!0},slidesPerView:2},641:{slidesPerView:2}},watchOverflow:!0,slidesPerView:1,spaceBetween:10,pagination:{el:".blog-swiper-pagination",type:"fraction"}})}if(document.querySelector(".slider-cards__swiper")){new Swiper(".slider-cards__swiper",{breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".slider-cards-swiper-pagination",type:"fraction"}})}if(document.querySelector(".also-buy__swiper")){new Swiper(".also-buy__swiper",{breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".also-buy-swiper-pagination",type:"fraction"}})}if(document.querySelector(".recently-watched__swiper")){new Swiper(".recently-watched__swiper",{breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".recently-swiper-pagination",type:"fraction"}})}if(document.querySelector(".product-swiper ")&&window.matchMedia("(max-width: 1024px)").matches){new Swiper(".product-swiper",{breakpoints:{769:{watchOverflow:!0,spaceBetween:5,slidesPerView:2}},slidesPerView:1,pagination:{el:".product-slider-pagination",type:"bullets"}})}if(document.querySelector(".contacts-swiper")){new Swiper(".contacts-swiper",{breakpoints:{769:{slidesPerView:2,spaceBetween:120}},watchOverflow:!0,slidesPerView:"auto",spaceBetween:20,navigation:{nextEl:".contacts-swiper-next",prevEl:".contacts-swiper-prev"},pagination:{el:".contacts-swiper-pagination",type:"fraction"},scrollbar:{el:".contacts-swiper-scrollbar",draggable:!0}})}}(),
//! review
function(){let e=document.querySelector(".add-review-listener");if(e){let o=document.querySelector(".review__continer");e.addEventListener("click",t=>{o.classList.toggle("show-container"),e.querySelector("._icon-cancel").classList.toggle("rotate")});let n=document.querySelector(".review-form");if(n){function t(e){e.style.display="block",setTimeout(()=>{e.style.display="none"},4e3)}n.addEventListener("submit",e=>{e.preventDefault();let o=n.querySelector("#reviewer"),r=n.querySelector("#reviewerName"),a=n.querySelector('input[type="email"]'),l=n.querySelector("input:checked"),i=document.querySelector(".review__errors-raiting"),s=document.querySelector(".review__errors-other"),c=document.querySelector(".review-success"),d=document.querySelector(".buy__container").getAttribute("data-id"),u=document.querySelector(".review-btn");if(""==r.value)t(s);else if(l){u.disabled=!0;let e={name:r.value,email:a.value,text:o.value,rating:l.value};$.ajax({url:"index.php?route=product/product/write&product_id="+d,type:"post",data:e,dataType:"json",success:function(e){r.value="",a.value="",o.value="",l.checked=!1,u.disabled=!1,n.style.display="none",c.style.display="block"},error:function(e){throw r.classList.add("error-input"),a.classList.add("error-input"),o.classList.add("error-input"),u.disabled=!1,setTimeout(()=>{r.classList.remove("error-input"),a.classList.remove("error-input"),o.classList.remove("error-input")},5e3),new Error(e)}})}else t(i)})}}let o=document.querySelectorAll(".reviewer-more");if(o.length>0){document.querySelector(".card__description__rating-link").addEventListener("click",e=>{setTimeout(()=>{o.forEach(e=>{let t=e.previousElementSibling;function o(){64===t.clientHeight?(t.style.maxHeight="350px",e.style.color="#EEEAE7"):(t.style.maxHeight="64px",e.style.color="#555555")}64===t.clientHeight&&(e.style.display="block"),e.addEventListener("click",e=>{o()}),t.addEventListener("click",e=>{o()})})},400)})}}(),
//! other change
function(){let e=document.querySelector(".short-description__text");if(e){0==e.textContent.trim().length&&(e.nextElementSibling.style.display="none")}if(document.querySelector(".not-found-wrapper")){let e=document.querySelector("header");e&&(e.style.display="none");let t=document.querySelector("footer");t&&(t.style.display="none")}let t=document.getElementById("user-date_of_birth"),o=document.getElementById("date_of_birth");function n(e){let t=(new Date).toISOString().split("T")[0].split("-"),o=t[0],n=`${parseInt(o)-16}-${t[1]}-${t[2]}`,r=new Date(parseInt(o)-16,t[1],t[2]);if("date"!=e.type)try{""!==e.value&&e.setAttribute("readonly","true");let t=""===e.value?r:new Date(e.value),o=""!==e.value&&new Date(e.value);datepicker(e,{maxDate:r,startDate:t,dateSelected:o,showAllDates:!0,overlayButton:"Select",formatter:(t,o,n)=>{const r=new Date(o),a=`${r.getFullYear()}-${parseInt(r.getMonth()+1)>=10?r.getMonth()+1:"0"+(r.getMonth()+1)}-${parseInt(r.getDate())>=10?r.getDate():"0"+r.getDate()}`;t.value=a,e.setAttribute("readonly","true")}})}catch(e){console.error(e)}return e.max=n}t?n(t):o&&n(o);let r=document.getElementById("mailingForm");if(r){document.querySelectorAll(".input-words").forEach(e=>{e.addEventListener("input",t=>{e.value=e.value.replace(/[^a-zа-яёії\s]/gi,"")})});let e=document.getElementById("mailing-firstname"),t=document.getElementById("mailing-text"),o=document.getElementById("mailing-email"),n=document.querySelector(".spinner-contacts-container"),a=document.querySelector(".spinner-contacts"),l=document.querySelector(".error-mail"),s=document.querySelector(".success-mail");function i(){e.value="",telephone.value="",t.value="",o.value="",n.style.display="none",a.style.display="none",l.style.display="none",s.style.display="none"}r.addEventListener("submit",r=>{r.preventDefault(),""==document.getElementById("mailingCapcha").value&&function(e){n.style.display="flex",a.style.display="block",$.ajax({url:"index.php?route=information/information/sendEmail",type:"post",dataType:"json",data:e,success:function(e){setTimeout(()=>i(),3e3),a.style.display="none",s.style.display="block"},error:function(e){throw setTimeout(()=>i(),3e3),a.style.display="none",l.style.display="block",new Error(e)}})}({name:e.value,text:t.value,email:o.value})})}let s=document.querySelectorAll(".question-item__title__container");s.length>0&&s.forEach(e=>{e.addEventListener("click",()=>{let t=e.nextElementSibling,o=e.querySelector("._icon-cancel");t.classList.contains("show")?o.classList.remove("scale-icon"):o.classList.add("scale-icon"),$(t).collapse("toggle")})});let c=document.querySelectorAll(".instruction-btn");if(c.length>0){let e=document.getElementById("instructionModal");$(e).on("hidden.bs.modal",(function(t){e.querySelector(".show-container").classList.toggle("show-container")})),c.forEach(t=>{t.addEventListener("click",()=>{$(e).modal("toggle");let o=t.getAttribute("data-info");e.querySelector(`[data-info="${o}"]`).classList.toggle("show-container")})})}let d=document.querySelectorAll(".hashtag-filter");d&&d.forEach(e=>{e.addEventListener("click",t=>{!function(e){let t={hashtag:e};$.ajax({url:"index.php?route=blog/blog/addHashtags",type:"post",dataType:"json",data:t,success:function(e){location.href="index.php?route=blog/blog"},error:function(e){throw new Error(e)}})}(e.getAttribute("data-hashtag"))})});let u=document.querySelector(".filters");if(u){let e,t=document.querySelector(".init-container-btn"),o=document.querySelector(".close-filters");function p(){let e=document.querySelectorAll(".noUi-handle");window.matchMedia("(max-width: 1110px)").matches&&u.classList.contains("show-effect")?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="auto",u.classList.contains("show-effect")?setTimeout(()=>{u.style.boxShadow="0 1px 4px -1px rgba(0, 0, 0, 0.75)",e.forEach(e=>{e.style.border="1px solid #30313229",e.style.borderRadius="50%"})},100):(u.style.boxShadow="none",e.forEach(e=>{e.style.border="none",e.style.borderRadius="0"}))}function m(){e=$(".filters-select2").select2({closeOnSelect:!1,dropdownCssClass:"filters-dropdown",language:{noResults:function(){return"..."}},width:"100%",allowHtml:!0,allowClear:!0}),e.each((function(){!function(e){e.next().find(".select2-selection__choice__remove").remove(),e.next().find(".select2-selection__clear").text("").addClass("_icon-cancel");let t=e.next().find(".select2-selection__choice").length,o=e.attr("data-text");t>1&&(e.next().find(".select2-selection__choice").remove(),e.next().find(".select2-selection__rendered").append(`<li class="select2-selection__choice">${o}: ${t}</li>`));t>0&&e.next().find(".select2-search--inline").css("display","none")}($(this)),$(this).on("change",(function(){$(this).next().find(".select2-selection__choice__remove").remove(),$(this).next().find(".select2-selection__clear").text("").addClass("_icon-cancel");let e=$(this).next().find(".select2-selection__choice").length,t=$(this).attr("data-text");e>1&&($(this).next().find(".select2-selection__choice").remove(),$(this).next().find(".select2-selection__rendered").append(`<li class="select2-selection__choice">${t}: ${e}</li>`)),e>0?$(this).next().find(".select2-search--inline").css("display","none"):$(this).next().find(".select2-search--inline").css("display","inline-block")}))}))}if(document.querySelector(".filter-title-close").addEventListener("click",()=>{u.classList.toggle("show-effect"),p()}),o.addEventListener("click",()=>{u.classList.toggle("show-effect"),p()}),t.addEventListener("click",()=>{u.classList.toggle("show-effect"),p()}),window.matchMedia("(min-width: 1110px)").matches&&window.addEventListener("resize",(function(e){m()}),!0),m(),window.matchMedia("(max-width: 1110px)").matches){let e=document.querySelector(".filter-size-js"),t=document.querySelector(".filter-params-js"),o=document.querySelector(".filter-price-js"),n=document.querySelector(".filter-regulate-js"),r=document.getElementById("filterSize"),a=document.getElementById("filterPrice"),l=document.getElementById("filterParams"),i=document.getElementById("filterRegulate");l&&(l.classList.add("collapse"),t.addEventListener("click",()=>{$("#filterParams").collapse("toggle"),t.querySelector(".icon").classList.toggle("rotate270")})),r.classList.add("collapse"),a.classList.add("collapse"),i.classList.add("collapse"),e.addEventListener("click",()=>{$("#filterSize").collapse("toggle"),e.querySelector(".icon").classList.toggle("rotate270")}),o.addEventListener("click",()=>{$("#filterPrice").collapse("toggle"),o.querySelector(".icon").classList.toggle("rotate270")}),n.addEventListener("click",()=>{$("#filterRegulate").collapse("toggle"),n.querySelector(".icon").classList.toggle("rotate270")})}let n=document.getElementById("noUiSliderRange"),r=document.getElementById("inputMin"),a=document.getElementById("inputMax"),l=r.getAttribute("data-chose"),i=a.getAttribute("data-chose");noUiSlider.create(n,{start:[Number(l),Number(i)],step:100,connect:!0,range:{min:Number(r.value),max:Number(a.value)}}),n.noUiSlider.on("update",(function(e,t){let o=e[t];t?a.value=Number(o):r.value=Number(o)}));let s=document.getElementById("filtersForm");s&&s.addEventListener("submit",e=>{e.preventDefault(),function(e){$.ajax({url:"index.php?route=seo/set/parameters",dataType:"json",type:"post",data:e,success:function(e){window.location=e.href},error:function(e){throw new Error(e)}})}(
//!get filters
function(e){let t=document.getElementById("filterParams"),o=document.getElementById("filterSize"),n=[];if(t){let e=document.getElementById("allFilters");e.value=n;let o=t.querySelectorAll("option:checked");o.length>0&&(o.forEach(e=>{n.push(e.value)}),e.value=n)}let r=[],a=document.getElementById("allSizes");a.value=r;let l=o.querySelectorAll("option:checked");l.length>0&&(l.forEach(e=>{r.push(e.value)}),a.value=r);let i=e.querySelector("#inputMin"),s=e.querySelector("#inputMax"),c=i.getAttribute("data-min"),d=s.getAttribute("data-max"),u=e.querySelector('input[name="regulate"]:checked').value;return Number(i.value)!==Number(c)||Number(s.value)!==Number(d)?{path:e.getAttribute("data-path"),route:e.getAttribute("data-route"),all_sizes:r,all_filters:n,price_min:i.value,price_max:s.value,regulate:u,search:e.getAttribute("data-search")}:{path:e.getAttribute("data-path"),route:e.getAttribute("data-route"),all_sizes:r,all_filters:n,regulate:u,search:e.getAttribute("data-search")}}(s))})}let y=document.querySelector(".catalog-pagination");if(y){const e=new IntersectionObserver(o=>{const[n]=o;n.isIntersecting&&function(o){let n="&page=";window.location.pathname.includes("index")||(n="?page=");let r=document.querySelector(".pagination-loader");if(document.querySelector("[data-search]"))return function(o,n){$.ajax({url:""+window.location.href,type:"post",dataType:"json",data:{page:parseInt(t)+1},beforeSend:function(){n.style.display="flex",e.unobserve(o)},success:function(e){parseInt(t)===parseInt(e.paginate.max)?n.style.display="none":f(e,o,n)},error:function(e){throw n.style.display="none",new Error(e)}})}(o,r);(function(o,n,r){$.ajax({url:`${window.location.href}${n}${parseInt(t)+1}`,type:"get",beforeSend:function(){r.style.display="flex",e.unobserve(o)},success:function(e){parseInt(t)===parseInt(e.paginate.max)?r.style.display="none":f(e,o,r)},error:function(e){throw r.style.display="none",new Error(e)}})})(o,n,r)}(n.target)},{root:null,rootMargin:"0px",threshold:.1});if(y.querySelectorAll(".product__card-container-item").length>=20){let t=document.querySelector("footer");e.observe(t)}let t=1;function f(o,n,r){if(r.style.display="none",t=parseInt(o.paginate.page),y.insertAdjacentHTML("beforeend",o.paginate.products),initFavorites(),h(),K(),l=new Swiper(".product-card-swiper",{watchOverflow:!0,slidesPerView:1,navigation:{nextEl:".product-card-swiper-next",prevEl:".product-card-swiper-prev"}}),V(),parseInt(o.paginate.page)!==parseInt(o.paginate.max))return e.observe(n)}}let _=document.querySelectorAll(".order-collapse");if(_.length>0&&_.forEach(e=>{e.addEventListener("click",t=>{let o=e.nextElementSibling;$(o).collapse("toggle"),e.querySelector(".icon").classList.toggle("rotate270")})}),document.querySelector(".user-data-container")){document.querySelectorAll(".input-words").forEach(e=>{e.addEventListener("input",t=>{e.value=e.value.replace(/[^a-zа-яёії\s]/gi,"")})}),document.querySelector("#user-data").addEventListener("submit",t=>{t.preventDefault(),""==document.querySelector(".user-persone-capcha").value&&function(t){$.ajax({url:"index.php?route=account/account/edit",dataType:"json",type:"post",data:t,beforeSend:function(){document.querySelector(".personal-btn").disabled=!0},success:function(t){1==t.unique_email?window.location.href="index.php?route=account/account":(e.nextElementSibling.classList.add("error-label"),e.setCustomValidity(t.unique_email),e.reportValidity(),document.querySelector(".personal-btn").disabled=!1)},error:function(e){throw document.querySelector(".personal-btn").disabled=!1,new Error(e)}})}(function(){let e=document.getElementById("user-lastname"),t=document.getElementById("user-firstname"),o=document.getElementById("user-email"),n=document.getElementById("user-date_of_birth"),r=document.getElementById("user-gender");return{lastname:e.value,firstname:t.value,email:o.value,date_of_birth:n.value,gender:r.value}}())});let e=document.getElementById("user-email");e.addEventListener("keyup",(function(t){13!=t.keyCode&&(e.nextElementSibling.classList.remove("error-label"),e.setCustomValidity(""),e.reportValidity())}),!1)}window.matchMedia("(max-width: 650px)").matches&&function(){let e=document.querySelector(".user-menu"),t=document.querySelector("body");if(e){let o=document.querySelector(".close-item"),n=document.querySelector(".personal__information__wrapper");e.addEventListener("click",(function(){n.classList.toggle("show-effect"),t.classList.toggle("body-not-scroll"),a()}),!0),o.addEventListener("click",(function(){n.classList.toggle("show-effect"),t.classList.toggle("body-not-scroll"),a()}),!0)}}(),window.matchMedia("(min-width: 640px)").matches&&document.querySelectorAll(".product__buy-container").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})});let g=document.querySelector(".compare__card-link");if(g){function v(e,t,o=""){let n={product_id:e,size:o};$.ajax({url:"index.php?route=product/compare/add",type:"post",data:n,dataType:"json",success:function(e){e.total>1&&t.classList.add("compare-init")},error:function(e){throw new Error(e)}})}g.addEventListener("click",e=>{let t=document.querySelector(".compare__card-container").querySelector("._icon-checked"),o=t.classList.contains("compare-init");if(!o&&"0"==getComputedStyle(t).opacity){e.preventDefault();let o=document.querySelector(".buy__container").getAttribute("data-id"),n=document.querySelector(".card__description__sizes-block"),r=document.querySelector(".card__description-size.active-compare");return n&&r?(t.classList.add("opacity-checked"),r.classList.remove("active-compare"),v(o,t,r.textContent)):n&&!r?(document.querySelector(".importantSizeModal").style.display="block",$("#universalModal").modal()):(t.classList.add("opacity-checked"),v(o,t))}o||e.preventDefault()})}let b=document.querySelector(".compare__wrapper"),w=document.querySelectorAll(".custom-checkbox"),S=document.getElementById("mainCompare");b&&w.length>0&&w.forEach(e=>{e.addEventListener("change",e=>{S.submit()})});let q=document.querySelectorAll(".favorit"),L=document.querySelector(".unknown-user");if(q.forEach(e=>{e.addEventListener("click",t=>{let o,n=e.parentNode.querySelector("[data-id]"),r=document.querySelector(".header-favorites"),a=t.target,l=document.querySelector(".complect-container");if(L){document.querySelector("#universalModal").querySelectorAll(".universalModal").forEach(e=>{e.style.display="none"}),document.querySelector(".favoriteModal").style.display="block",$("#universalModal").modal()}else if(n&&!l){n=n.getAttribute("data-id");let t=e.parentNode,o=e.parentNode.getAttribute("data-json");i(n,a,JSON.parse(o),t)}else{o=document.querySelector(".card__container").querySelector("[data-id]").getAttribute("data-id"),i(o,a)}function i(e,t,o=null,n=null){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+e,dataType:"json",success:function(a){o&&(o.forEach(t=>{t.product_id==e&&(t.added_to_wishlist=a.added_to_wishlist)}),n.setAttribute("data-json",JSON.stringify(o))),a.total>0?r.textContent=`(${a.total})`:r.textContent="",t.classList.contains("_icon-favorites")?(t.classList.remove("_icon-favorites"),t.classList.add("_icon-favorites-fill"),function(){try{fbq("track","AddToWishlist")}catch(e){console.error(e)}}()):t.classList.contains("_icon-favorites-fill")&&(t.classList.remove("_icon-favorites-fill"),t.classList.add("_icon-favorites"))},error:function(e){throw new Error(e)}})}})}),document.querySelector(".grid__favorite-wrapper")){document.querySelectorAll("._icon-favorites-fill").forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{window.location.reload()},200)})})}let E=document.querySelector(".grid__catalog-container");if(E){window.onresize=()=>{window.matchMedia("(max-width: 767px)").matches&&(E.classList.remove("grid__catalog-container-2"),E.classList.remove("grid__catalog-container-3"),E.classList.add("grid__catalog-container"))},document.querySelectorAll(".top__pagination-item").forEach(e=>{e.addEventListener("click",t=>{e.parentNode.querySelectorAll(".look-by-active").forEach(e=>e.classList.toggle("look-by-active")),e.classList.toggle("look-by-active");let o=e.getAttribute("data-look");E.classList.remove("grid__catalog-container-2"),E.classList.remove("grid__catalog-container-3"),E.classList.remove("grid__catalog-container"),E.classList.add(o),Array.isArray(l)?l.map(e=>{e.update()}):l.update()})})}document.querySelector("#checkoutForm");let k=document.querySelector(".nuot__grid-wrapper");k&&k.addEventListener("click",e=>{e.target.parentNode.classList.contains("button-link")||(window.location.href="index.php?route=nuot/nuot_page")});let x=document.querySelector(".card__container");if(x){let e,t,o=[],n=x.querySelector("[data-id]").getAttribute("data-id"),r=x.getAttribute("data-authuser"),a=function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}("recently_watched");if(e=""!=r&&r,void 0!==a){let e=JSON.parse(a);e.products.push(n);let t=e.products;o=[...new Set(t)]}else o.push(n);t={products:o,user_id:e},document.cookie="recently_watched="+JSON.stringify(t)+"; max-age=86400"}let A=document.querySelector("#newstler"),N=document.querySelector(".footer__sub-action"),j=document.querySelector(".footer__sub-success");A&&A.addEventListener("submit",(function(e){e.preventDefault();let t=A.getElementsByTagName("input"),o={email:t[0].value};""==t[1].value&&$.ajax({url:"index.php?route=mail/newsletter/setToDatabase",type:"post",data:o,dataType:"json",success:function(e){t[0].value="",N.style.display="none",j.style.display="block"},error:function(e){throw new Error(e)}})}));let M=document.querySelectorAll(".btn-slider-span");if(M.length>0&&M.forEach(e=>{let t=e.parentNode.querySelector("._icon-arrow-slider-1"),o=e.parentNode.parentNode,n=e.parentNode.parentNode.parentNode;t.classList.contains("swiper-button-lock")?o.classList.contains("swiper-container")?e.parentNode.style.display="none":n.classList.contains("slider-controls-container")&&(n.style.display="none"):e.parentNode.previousElementSibling.classList.contains("swiper-pagination-lock")&&(e.parentNode.previousElementSibling.style.display="none")}),document.querySelector(".subcategory__wrapper")&&(window.matchMedia("(max-width: 768px)").matches?UIkit.slider(".uk-subcat-slider",{draggable:!0,autoplay:!1}):UIkit.slider(".uk-subcat-slider",{draggable:!1,autoplay:!0})),document.querySelectorAll(".lang-modal-btn").length>0){function I(){[...document.querySelectorAll(".lang-arrow")].forEach(e=>{e.classList.toggle("rotate270")})}$("#langModal").on("hide.bs.modal",(function(e){I()})),$("#langModal").on("show.bs.modal",(function(e){I()}));let e=document.querySelector(".lang-mob-btn-js");e&&e.addEventListener("click",()=>{document.querySelector(".menu__mobile-modal").classList.remove("active-modal")}),$(".country-lang-sel").select2({language:{noResults:function(){return"..."}},width:"100%",dropdownParent:$("#langModal"),templateResult:function(e,t){if(!e.id)return e.text;!function(e,t){$(t).addClass($(e.element).attr("class")),e.text}(e,t);return $(`<span class="option-flag-container"><img src="/image//${e.element.value.toLowerCase()}.png" class="img-flag" />${e.text}</span>`)},templateSelection:function(e){return $(`<span class="select-flag-container"><img src="/image/${e.id}.png" class="img-flag" />${e.text}</span>`)}}),$(".lang-select").select2({minimumResultsForSearch:-1,width:"100%"})}let B=document.querySelector(".icon360"),C=!0;if(B){let e,t,o=document.querySelector(".left360"),n=document.querySelector(".right360"),r=document.querySelector(".auto-play360"),a=document.getElementById("modal360"),l=document.querySelector(".body360"),i=l.getAttribute("data-autoplay"),s=l.querySelector(".wait"),c=new MutationObserver((function(e){e.forEach((function(e){!e.target.classList.contains("cloudimage-360-loader")&&parseInt(e.target.attributes.height.value)>0?(s.style.display="none",t=l.querySelector(".cloudimage-360-loader"),c.disconnect(),c.observe(t,d)):e.target.classList.contains("cloudimage-360-loader")&&function(e){let t=e.split("width: ")[1];100===parseInt(t)&&(a.addEventListener("click",T,!1),c.disconnect(),o.removeAttribute("disabled"),n.removeAttribute("disabled"),r.removeAttribute("disabled"))}(e.target.attributes.style.value)}))}));let d={attributes:!0};let u=new Proxy({},{set:function(e,t,a){return"play"===t&&!0===a?(r.classList.remove("_icon-play3"),r.classList.add("_icon-pause2"),z(n,"mousedown")):"play"===t&&!1===a&&(r.classList.add("_icon-play3"),r.classList.remove("_icon-pause2"),o.click()),e[t]=a,!0}});function T(e){e.target.classList.contains("_icon-play3")?u.play=!0:e.target.classList.contains("_icon-pause2")?u.play=!1:e.target.classList.contains("show")&&r.classList.contains("_icon-pause2")?(u.play=!1,z(o,"mousedown"),z(o,"mouseup")):!0===u.play&&(u.play=!1)}$("#modal360").on("show.bs.modal",(function(){C?(window.CI360.init(),C=!1,"true"===i&&(u.play=!0),e=a.querySelector("canvas"),c.observe(e,d),s.style.display="block"):a.addEventListener("click",T,!1)})),$("#modal360").on("hidden.bs.modal",(function(){u.play=!1,a.removeEventListener("click",T,!1)}))}function z(e,t){let o=document.createEvent("MouseEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}let O=document.querySelectorAll(".connect__remove-item");if(O.length>0){let e=document.getElementById("removeModal");O.forEach(t=>{t.addEventListener("click",t=>{$(e).modal()})})}let P=document.querySelector(".add-pay-card");if(P){let e=document.querySelector(".pay-card-number");e.addEventListener("input",t=>{e.value=e.value.replace(/[^0-9]/g,"")});let t=document.querySelector(".show__card-container"),o=document.querySelector(".add__card-container");P.addEventListener("click",()=>{o.style.display="block",t.style.display="none"}),document.querySelectorAll(".close-add-card").forEach(e=>{e.addEventListener("click",()=>{o.style.display="none",t.style.display="block"})})}$("#universalModal").on("hidden.bs.modal",(function(){let e=document.querySelector(".importantSizeModal"),t=document.querySelector(".favoriteModal");e&&(e.style.display="none"),t&&(t.style.display="none")}));let H=document.querySelectorAll(".card__description-size");if(H.length>0){function D(e){let t=document.querySelector(".card__description-size.active-compare");t&&t.classList.remove("active-compare"),this.classList.add("active-compare")}H.forEach(e=>{e.addEventListener("click",D,!1)})}}()};
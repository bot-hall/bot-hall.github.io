window.onload=function(){function e(){if(!document.querySelector(".ordering__wrapper"))try{fbq("track","CompleteRegistration")}catch(e){console.error(e)}}function t(e,t){try{fbq("track","ViewContent",{content_ids:[e],content_type:t})}catch(e){console.error(e)}}if(document.querySelector("[data-fancybox]")&&Fancybox.bind("[data-fancybox]",{on:{init:(e,t)=>{document.querySelector("body").classList.add("body-not-scroll"),l()},shouldClose:(e,t)=>{document.querySelector("body").classList.remove("body-not-scroll"),l()}},closeButton:"outside"}),document.querySelectorAll(".social__auth-action").forEach(t=>{t.addEventListener("click",e,!1)}),document.querySelector(".ordering__wrapper")){document.getElementById("orderModal").classList.contains("show")||function(){let e=[];document.querySelectorAll(".basket__info-art").forEach(t=>{let o=t.textContent.replace("Арт.","");e.push(o.trim())});try{fbq("track","InitiateCheckout",{content_ids:[e],content_type:"product_group",currency:"UAH"})}catch(e){console.error(e)}}()}let o=document.querySelector(".card__description-art");if(o){t(o.textContent.replace("Арт.","").trim(),"product")}if(document.querySelector(".grid__catalog-wrapper")){let e=[];document.querySelectorAll("[data-sku]").forEach(t=>{e.push(t.getAttribute("data-sku"))}),t(e,"product_group")}function n(e){void 0===e.coincidence_code_validation?function(e){let t=document.querySelector(".shopping__inform-promo"),o=document.querySelector(".shopping__inform-certificate"),n=document.querySelector(".discount-error");e.coincidence_code_validation_promo.includes("**")||e.coincidence_code_validation_sertif.includes("**")?n.classList.add("gray"):n.classList.remove("gray");""!==e.coincidence_code_validation_promo?(n.textContent=e.coincidence_code_validation_promo,n.style.display="block",t.classList.remove("valid-promocode")):""!==e.coincidence_code_validation_sertif?(n.style.display="block",n.textContent=e.coincidence_code_validation_sertif,t.classList.remove("valid-promocode")):""!==t.value?(n.textContent="",n.style.display="none",t.classList.add("valid-promocode")):""!==o.value&&(n.textContent="",n.style.display="none",o.classList.add("valid-promocode"))}(e):function(e){let t=document.querySelector(".shopping__inform-promo"),o=document.querySelector(".shopping__inform-certificate"),n=document.querySelector(".discount-error");e.coincidence_code_validation.includes("**")?(n.classList.add("gray"),t.classList.add("valid-promocode")):n.classList.remove("gray");""!==e.coincidence_code_validation?(n.style.display="block",n.textContent=e.coincidence_code_validation,o.classList.remove("valid-promocode")):""!==t.value?(n.textContent="",n.style.display="none",t.classList.add("valid-promocode")):""!==o.value&&(n.textContent="",n.style.display="none",o.classList.add("valid-promocode"))}(e)}window.onbeforeunload=()=>{sessionStorage.getItem("firstLoad")||(document.cookie="firstLoad=false; expires=Thu, 01 Jan 1970 00:00:00 GMT;")};let r=new MutationObserver((function(e){e.forEach((function(e){let t=e.target.attributes.style.value,o=document.querySelector("header");if(t.includes("padding-right")){let e=t.split(" ")[1].split(";");a.classList.add("body-not-scroll"),o.style.paddingRight=e[0]}else o.style.paddingRight="",a.classList.remove("body-not-scroll")}))}));function l(){let e=document.querySelector("body");if(e.classList.contains("body-not-scroll")){let t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",document.body.append(t);let o=t.offsetWidth-t.clientWidth;t.remove(),0!=o&&(e.style.paddingRight=o+"px")}else e.style.paddingRight=""}let s,a=document.querySelector("body");function c(e,t,o=null){"inline"==t&&null==o&&(e.style.display="inline-block"),"inline"==t&&null!==o&&(e.style.display="inline-block",o.style.display="none"),"block"==t&&(e.style.display="block",o.style.display="none"),"flex"==t&&o&&(e.style.display="flex",o.style.display="none"),"flex"==t&&null==o&&(e.style.display="flex"),"none"==t&&(e.style.display="none")}function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}r.observe(a,{attributes:!0,attributeFilter:["style"]}),document.querySelector(".product-card-swiper")&&(s=new Swiper(".product-card-swiper",{watchOverflow:!0,slidesPerView:1,navigation:{nextEl:".product-card-swiper-next",prevEl:".product-card-swiper-prev"}})),
//! Confirm telephone in other pages
//!Header scroll
function(){let e=document.querySelector("header");e&&(window.oldScrollY=window.scrollY,document.onscroll=t=>{let o=window.oldScrollY>window.scrollY?1:2;window.oldScrollY=window.scrollY,2==o&&window.scrollY>400?e.style.transform="translateY(-100%)":1==o&&(e.style.transform="translateY(0)"),2==o&&window.scrollY>1500?document.getElementById("topBtn").style.display="flex":document.getElementById("topBtn").style.display="none"},document.getElementById("topBtn").onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})})}(),
//!header search
function(){let e=document.querySelector(".header-search"),t=document.querySelector(".header__search-wrapper"),o=document.querySelector(".search-input"),n=document.getElementById("searchForm");if(e){function r(){e.classList.toggle("_icon-search"),e.classList.toggle("_icon-cancel"),e.classList.toggle("rotate-anim"),t.classList.toggle("show-effect")}n.addEventListener("submit",(function(e){e.preventDefault();let t="index.php?route=product/search&search=";t+=encodeURIComponent(o.value),window.location=t})),o.addEventListener("input",(function(e){let t=o.value.length;if(t>=3)!async function(){let e={filter_name:o.value};$.ajax({url:"index.php?route=common/search/autocomplete/",type:"post",data:e,dataType:"json",success:function(e){let t=document.querySelector(".search__results-container");d(t),e.map(e=>{t.insertAdjacentHTML("beforeend",`<a href="${e.href}">${e.name}</a>`)})},error:function(e){throw new Error(e)}})}();else if(0==t||""==o.value){d(document.querySelector(".search__results-container"))}})),document.addEventListener("click",(function(o){let n=o.target,l=n==t||t.contains(n),i=n==e,s=t.classList.contains("show-effect");l||i||!s||r()})),e.addEventListener("click",e=>{r(),o.focus()})}}(),
//! auth
function(){let t,o,n,r,i,s,a=document.querySelector(".unknown-user"),d=document.querySelector(".auth__wrapper"),u=document.querySelector(".menu__mobile-unregistered"),p=document.querySelector(".personal__wrapper"),m=document.querySelector(".menu__icon"),y=document.querySelector(".menu__mobile-modal"),f=document.querySelector(".auth__wrapper-checkout"),_=document.querySelector(".number__container"),g=document.querySelector(".code__container"),h=document.querySelector(".code__container-text"),b=document.querySelector(".refresh-form"),v=document.querySelector("#custom-modal"),w=document.querySelector("body");if(document.querySelector("#infoAvailability")){let e=document.querySelector(".modal__inform-capcha");document.querySelector(".modal__inform").addEventListener("submit",t=>{if(t.preventDefault(),""==e.value){let e=document.querySelector(".modal__inform-name").value,t=document.querySelector(".modal__inform-main-body");!function(e){$.ajax({url:"index.php?route=product/product/stockStatusReport",type:"post",data:e,dataType:"json",beforeSend:function(){document.querySelector(".spinner-inform-continer").style.display="flex"},success:function(e){document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__inform-main-body").style.display="none",document.querySelector(".modal__inform-success-body").style.display="flex"},error:function(e){throw document.querySelector(".spinner-inform-continer").style.display="none",document.querySelector(".modal__inform-main-body").style.display="none",document.querySelector(".modal-availability-error").style.display="block",new Error(e)}})}({user_name:e,product_id:t.querySelector(".card__description-size").getAttribute("data-confirm"),size:t.querySelector(".card__description-size").textContent})}}),$("#infoAvailability").on("hidden.bs.modal",(function(e){document.querySelector(".modal__inform-main-body").style.display="block",document.querySelector(".modal__inform-success-body").style.display="none",document.querySelector(".modal__inform-name").value="",document.querySelector(".modal__inform-email").value=""}))}if(a&&(u.addEventListener("click",e=>{"none"==getComputedStyle(d).display?(y.classList.toggle("active-modal"),p.classList.toggle("show-effect"),v.classList.toggle("show-modal")):(y.classList.toggle("active-modal"),d.classList.toggle("show-effect"),v.classList.toggle("show-modal"))}),a.addEventListener("click",e=>{"none"==getComputedStyle(d).display?(p.classList.toggle("show-effect"),v.classList.toggle("show-modal"),w.classList.toggle("body-not-scroll"),l()):(d.classList.toggle("show-effect"),v.classList.toggle("show-modal"),w.classList.toggle("body-not-scroll"),l())})),a&&document.addEventListener("click",(function(e){if("none"==getComputedStyle(d).display){let t=e.target,o=t==p||p.contains(t),n=t==a,r=p.classList.contains("show-effect");o||n||!r||e.target.classList.contains("menu__mobile-unregistered")||(p.classList.toggle("show-effect"),v.classList.toggle("show-modal"),w.classList.toggle("body-not-scroll"),l())}else{let t=e.target,o=t==d||d.contains(t),n=t==a,r=d.classList.contains("show-effect");o||n||!r||e.target.classList.contains("menu__mobile-unregistered")||(d.classList.toggle("show-effect"),v.classList.toggle("show-modal"),w.classList.toggle("body-not-scroll"),l())}})),a||f){let e=document.getElementById("numberForm");i=e.getElementsByTagName("input");let l=document.getElementById("codeForm");t=l.getElementsByTagName("input");let u=document.querySelector(".spinner-number");document.querySelector(".back-number").addEventListener("click",e=>{_.style.display="block",g.style.display="none",document.querySelector(".send-tel").removeAttribute("disabled"),document.querySelector(".send-code-btn").removeAttribute("disabled"),clearTimeout(r),b.style.display="none",document.querySelector(".code-error-block").textContent="",f&&(document.querySelector(".code__container-title-error").style.display="none",t[0].parentNode.style.display="flex",t[0].value="",i[0].value=""),S()}),b.addEventListener("click",e=>{S(),setTimeout(()=>q(o,u,i[0]),400),clearTimeout(r),b.style.display="none",r=setTimeout(()=>b.style.display="block",6e4)}),i[0].addEventListener("keyup",e=>{13!=e.keyCode&&(i[0].setCustomValidity(""),i[0].classList.remove("error-input"))}),document.querySelector(".send-tel").addEventListener("click",(function(){let e=i[0].value;(""==e||e.includes("_"))&&(i[0].classList.add("error-input"),i[0].setCustomValidity(i[0].getAttribute("data-valid-massadge")))}),!1),e.addEventListener("submit",(function(e){e.preventDefault();let t=i[0].value;if(""!==t&&!t.includes("_")&&""==i[1].value){let e=t.replace("(","").replace(")","");o={phone:e},document.querySelector(".send-tel").disabled=!0,q(o,u,i[0])}})),l.addEventListener("submit",(function(e){e.preventDefault();let l=t[0].value;if(6==l.length&&""==t[1].value){!async function(e){$.ajax({url:"index.php?route=account/login/turboSmsCheckCode",type:"post",data:e,dataType:"json",beforeSend:function(){c(document.querySelector(".spinner-code"),"inline",t[0].parentNode),document.querySelector(".send-code-btn").disabled=!0},success:function(e){!0===e.code_matching&&!1===e.is_auth&&a?(d.style.display="none",p.classList.toggle("show-effect"),document.getElementById("telephone").value=e.telephone,document.getElementById("codePerson").value=e.code):!1===e.code_matching&&e.try_count<=5||!0===e.is_auth&&!1===e.code_matching&&e.try_count<=5?(document.querySelector(".send-code-btn").removeAttribute("disabled"),c(t[0].parentNode,"flex",document.querySelector(".spinner-code")),t[0].classList.add("error-input"),t[0].nextElementSibling.classList.add("error-label"),setTimeout(()=>{t[0].classList.remove("error-input"),t[0].nextElementSibling.classList.remove("error-label")},5e3),document.querySelector(".code-error-block").textContent=e.code_error):!1===e.code_matching&&e.try_count>5||!0===e.is_auth&&!1===e.code_matching&&e.try_count>5?(c(t[0].parentNode,"flex",document.querySelector(".spinner-code")),document.querySelector(".send-code-btn").removeAttribute("disabled"),t[0].classList.add("error-input"),t[0].nextElementSibling.classList.add("error-label"),setTimeout(()=>{t[0].classList.remove("error-input"),t[0].nextElementSibling.classList.remove("error-label")},5e3),document.querySelector(".code-error-block").textContent=e.try_error,b.style.display="block"):!0===e.is_auth&&!0===e.code_matching?(document.querySelector(".location-login").value=s,document.getElementById("codeForm").submit()):!1!==e.is_auth||a||(c(t[0].parentNode,"flex",document.querySelector(".spinner-code")),c(document.querySelector(".code__container-title-error"),"block",t[0].parentNode),clearTimeout(r),b.style.display="none",document.querySelector(".code-error-block").textContent="")},error:function(e){throw c(t[0].parentNode,"flex",document.querySelector(".spinner-code")),document.querySelector(".send-code-btn").removeAttribute("disabled"),t[0].classList.add("error-input"),t[0].nextElementSibling.classList.add("error-label"),setTimeout(()=>{t[0].classList.remove("error-input"),t[0].nextElementSibling.classList.remove("error-label")},5e3),new Error(e)}})}({sms_code:l,opencart_code:n,phone:o})}}))}async function S(){$.ajax({url:"index.php?route=account/login/turboSmsClearAttemps",type:"post",data:o,dataType:"json",success:function(){t[0].value=""},error:function(e){throw new Error(e)}})}async function q(e,t,o=null){$.ajax({url:"index.php?route=account/login/turboSmsGetCode",type:"post",data:e,dataType:"json",beforeSend:function(){c(t,"inline",o)},success:function(l){if(!0===l.send_sms&&o)_.style.display="none",g.style.display="block",h.textContent="+"+l.phone,n=l.send_code,e=l.phone,s=l.location,r=setTimeout(()=>b.style.display="block",6e4),c(o,"block",t);else if(!0===l.send_sms&&!o){c(t,"none",null),document.querySelector("#telephoneInform").setAttribute("readonly",!0),document.querySelector(".modal__inform-wrapper").style.display="block",n=l.send_code,e=l.phone,refreshTimeoutModal=setTimeout(()=>document.querySelector(".modal__refresh-code").style.display="block",6e4)}},error:function(e){if(o)o.classList.add("error-input"),setTimeout(()=>o.classList.remove("error-input"),5e3),document.querySelector(".send-tel").removeAttribute("disabled"),c(o,"block",t);else if(!o){document.querySelector(".modal__inform-inform-tel").removeAttribute("disabled"),c(t,"none",null);let e=document.querySelector("#telephoneInform");e.classList.add("error-input"),setTimeout(()=>e.classList.remove("error-input"),5e3)}throw new Error(e)}})}if(a){let t=document.querySelector("#personal-data");t.addEventListener("submit",(function(o){o.preventDefault(),""==t.querySelector('input[name="chekoutPersone"]').value&&(e(),setTimeout(()=>{t.submit()},200))}))}if(m){let e=document.querySelector(".backpacks-js"),t=document.querySelector(".handbags-js"),o=document.querySelector(".accessories-js"),n=document.querySelector("body"),r=document.querySelector(".menu__mobile-wrapper");m.addEventListener("click",e=>{y.classList.toggle("active-modal"),n.classList.toggle("body-not-scroll"),l()}),document.addEventListener("click",(function(i){let s=i.target;(s.classList.contains("active-modal")||s.classList.contains("menu__mobile-close"))&&(y.classList.toggle("active-modal"),n.classList.toggle("body-not-scroll"),l()),(s.classList.contains("backpacks-js")||s.parentNode.classList.contains("backpacks-js"))&&e.querySelector(".menu__mob-sub-wrapper").classList.toggle("show-effect"),(s.classList.contains("handbags-js")||s.parentNode.classList.contains("handbags-js"))&&t.querySelector(".menu__mob-sub-wrapper").classList.toggle("show-effect"),(s.classList.contains("accessories-js")||s.parentNode.classList.contains("accessories-js"))&&o.querySelector(".menu__mob-sub-wrapper").classList.toggle("show-effect"),s.classList.contains("menu__mob-sub-title")&&s.parentNode.classList.toggle("show-effect"),r.querySelector(".show-effect")?r.classList.add("body-not-scroll"):r.classList.remove("body-not-scroll")}))}}(),
//! SWIPERs
function(){let e=document.querySelectorAll(".nuot-modal-swiper");if(e.length>0){let t=[];e.forEach(e=>{let o=e.parentNode.querySelector(".nuot-modal-swiper-next"),n=e.parentNode.querySelector(".nuot-modal-swiper-prev"),r=e.parentNode.querySelector(".nuot-modal-scrollbar");const l=new Swiper(e,{watchOverflow:!0,spaceBetween:20,slidesPerView:2,navigation:{nextEl:o,prevEl:n},scrollbar:{el:r,draggable:!0},breakpoints:{1024:{watchOverflow:!0,spaceBetween:57,slidesPerView:2,navigation:{nextEl:o,prevEl:n},scrollbar:{el:r,draggable:!0}},520:{watchOverflow:!0,spaceBetween:12,slidesPerView:2,navigation:{nextEl:o,prevEl:n},scrollbar:{el:r,draggable:!0}}}});t.push(l)}),document.querySelectorAll(".gallery-nuo-item").forEach(e=>{e.addEventListener("click",e=>{setTimeout(()=>{Array.isArray(t)?t.map(e=>{e.update()}):t.update()},400)})})}if(document.querySelector(".new-collection-slider")){window.matchMedia("(max-width: 520px)").matches&&new Swiper(".new-collection-slider",{pagination:{el:".new-collection-pagination"},watchOverflow:!0,breakpoints:{521:{slidesPerView:3}}})}if(document.querySelector(".sale__swiper")){new Swiper(".sale__swiper",{breakpoints:{769:{navigation:{nextEl:".sale-swiper-next",prevEl:".sale-swiper-prev"},scrollbar:{el:".sale-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,pagination:{el:".sale-swiper-pagination",type:"fraction"}})}if(document.querySelector(".blog__swiper")){new Swiper(".blog__swiper",{breakpoints:{769:{spaceBetween:20,navigation:{nextEl:".blog-swiper-next",prevEl:".blog-swiper-prev"},scrollbar:{el:".blog-swiper-scrollbar",draggable:!0},slidesPerView:2},641:{slidesPerView:2}},watchOverflow:!0,slidesPerView:1,spaceBetween:10,pagination:{el:".blog-swiper-pagination",type:"fraction"}})}if(document.querySelector(".slider-cards__swiper")){new Swiper(".slider-cards__swiper",{breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".slider-cards-swiper-next",prevEl:".slider-cards-swiper-prev"},scrollbar:{el:".slider-cards-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".slider-cards-swiper-pagination",type:"fraction"}})}if(document.querySelector(".also-buy__swiper")){new Swiper(".also-buy__swiper",{breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".also-buy-swiper-next",prevEl:".also-buy-swiper-prev"},scrollbar:{el:".also-buy-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".also-buy-swiper-pagination",type:"fraction"}})}if(document.querySelector(".recently-watched__swiper")){new Swiper(".recently-watched__swiper",{breakpoints:{1440:{slidesPerView:4,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}},1170:{slidesPerView:3,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},pagination:{el:".recently-swiper-pagination",type:"fraction"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}},769:{spaceBetween:6,slidesPerView:2,navigation:{nextEl:".recently-swiper-next",prevEl:".recently-swiper-prev"},scrollbar:{el:".recently-swiper-scrollbar",draggable:!0}}},watchOverflow:!0,slidesPerView:2,spaceBetween:0,pagination:{el:".recently-swiper-pagination",type:"fraction"}})}if(document.querySelector(".product-swiper ")&&window.matchMedia("(max-width: 1024px)").matches){new Swiper(".product-swiper",{breakpoints:{769:{watchOverflow:!0,spaceBetween:5,slidesPerView:2}},slidesPerView:1,pagination:{el:".product-slider-pagination",type:"bullets"}})}if(document.querySelector(".contacts-swiper")){new Swiper(".contacts-swiper",{breakpoints:{769:{slidesPerView:2,spaceBetween:120}},watchOverflow:!0,slidesPerView:"auto",spaceBetween:20,navigation:{nextEl:".contacts-swiper-next",prevEl:".contacts-swiper-prev"},pagination:{el:".contacts-swiper-pagination",type:"fraction"},scrollbar:{el:".contacts-swiper-scrollbar",draggable:!0}})}}(),
//! review
function(){let e=document.querySelector(".add-review-listener");if(e){let o=document.querySelector(".review__continer");e.addEventListener("click",t=>{o.classList.toggle("show-container"),e.querySelector("._icon-cancel").classList.toggle("rotate")});let n=document.querySelector(".review-form");if(n){function t(e){e.style.display="block",setTimeout(()=>{e.style.display="none"},4e3)}n.addEventListener("submit",e=>{e.preventDefault();let o=n.querySelector("#reviewer"),r=n.querySelector("#reviewerName"),l=n.querySelector('input[type="email"]'),i=n.querySelector("input:checked"),s=document.querySelector(".review__errors-raiting"),a=document.querySelector(".review__errors-other"),c=document.querySelector(".review-success"),d=document.querySelector(".buy__container").getAttribute("data-id"),u=document.querySelector(".review-btn");if(""==r.value)t(a);else if(i){u.disabled=!0;let e={name:r.value,email:l.value,text:o.value,rating:i.value};$.ajax({url:"index.php?route=product/product/write&product_id="+d,type:"post",data:e,dataType:"json",success:function(e){r.value="",l.value="",o.value="",i.checked=!1,u.disabled=!1,n.style.display="none",c.style.display="block"},error:function(e){throw r.classList.add("error-input"),l.classList.add("error-input"),o.classList.add("error-input"),u.disabled=!1,setTimeout(()=>{r.classList.remove("error-input"),l.classList.remove("error-input"),o.classList.remove("error-input")},5e3),new Error(e)}})}else t(s)})}}let o=document.querySelectorAll(".reviewer-more");if(o.length>0){document.querySelector(".card__description__rating-link").addEventListener("click",e=>{setTimeout(()=>{o.forEach(e=>{let t=e.previousElementSibling;function o(){64===t.clientHeight?(t.style.maxHeight="350px",e.style.color="#EEEAE7"):(t.style.maxHeight="64px",e.style.color="#555555")}64===t.clientHeight&&(e.style.display="block"),e.addEventListener("click",e=>{o()}),t.addEventListener("click",e=>{o()})})},400)})}}(),
//! basket
function(){let e,t,o,r=document.querySelector(".header-bag"),l=document.querySelector("#custom-modal"),a=document.querySelector(".ordering__wrapper"),u=document.getElementById("infoAvailability");function p(){let t=document.querySelectorAll(".basket__item");a&&0==t.length?window.location.replace(window.location.origin):a||0!=t.length?a||0===t.length||(e.querySelector(".basket__empty").style.display="none",e.querySelector(".basket__count-container").style.display="block",e.querySelector(".basket__submit-cont").style.display="flex"):(e.querySelector(".basket__empty").style.display="block",e.querySelector(".basket__count-container").style.display="none",e.querySelector(".basket__submit-cont").style.display="none")}function m(e){let t=document.querySelector(".products-total");d(t),e>0&&t.insertAdjacentHTML("beforeend",`(${e})`)}function y(e){let t=document.querySelector(".item-sum");document.querySelector(".item-count-number").textContent=e.products_total_count,0==e.sale_total_price?t.textContent=e.product_total_price:t.textContent=e.sale_total_price}function f(){document.querySelector("#universalModal").querySelectorAll(".universalModal").forEach(e=>{e.style.display="none"}),document.querySelector(".importantSizeModal").style.display="block",$("#universalModal").modal()}r&&(e=document.querySelector(".header__basket-wrapper"),t=e.querySelector(".close-basket"),o=e.querySelector(".basket__submit-continue")),r&&(r.addEventListener("click",t=>{t.target.classList.contains("header-bag")&&(e.classList.toggle("show-effect"),l.classList.toggle("show-modal")),p()}),t.addEventListener("click",t=>{e.classList.toggle("show-effect"),l.classList.toggle("show-modal")}),o.addEventListener("click",t=>{e.classList.toggle("show-effect"),l.classList.toggle("show-modal")}),document.addEventListener("click",(function(t){let o=t.target;!function(t,o,n){let r=n==t||t.contains(n),i=n==o,s=t.classList.contains("show-effect");r||i||!s||(e.classList.toggle("show-effect"),l.classList.toggle("show-modal"))}(e,r,o)})));let _=document.querySelector(".buy__container-btn");_&&_.addEventListener("click",e=>{let t=document.querySelector(".main-sizes").querySelector(".active-size");if(t){let e=t.parentNode.getAttribute("data-id"),o=t.textContent,n=t.getAttribute("data-shop");"ONE"==o?C(e,n):C(e,n,o),j(n),t.classList.toggle("active-size")}else f()});let g,h,b,v,w=document.querySelectorAll(".city__reserve");function S(e,t){document.querySelectorAll(".card__description-size.active-size").forEach(e=>{e.classList.remove("active-size")}),1==g&&13==e?t.classList.toggle("active-size"):1==g&&12==e?(j(b),C(h,b)):1==g&&11==e?(j(b),C(h,b,v)):3==g&&12==e?A(h):3==g&&11==e?A(h,v):3==g&&13==e?"ONE"==v?A(h):A(h,v):1==g&&15==e||1==g&&17==e?(j(b),C(h,b)):(3==g&&15==e||3==g&&17==e)&&A(h)}function q(e){i=this,g=i.getAttribute("data-stock-status");let t,o=i.parentNode,n=o.classList;h=o.getAttribute("data-id"),b=o.getAttribute("data-shop"),v=i.textContent;let r=i.parentNode.parentNode.parentNode.classList.contains("city__sizes");cityShop=i.parentNode.parentNode.parentNode.getAttribute("data-shop"),cityId=i.parentNode.parentNode.parentNode.getAttribute("data-id"),window.matchMedia("(min-width: 640px)").matches&&n.contains("product__sizes-container")?(t=11,S(t,i)):window.matchMedia("(min-width: 640px)").matches&&n.contains("product__buy-container")?(t=12,S(t,i)):n.contains("card__description__sizes-block")&&!r?(t=13,S(t,i)):r?(t=14,S(t,i)):n.contains("buy__container")?(t=15,S(t,i)):n.contains("table__btns-container")&&(t=17,S(t,i))}function L(){document.querySelectorAll("[data-stock-status]").forEach(e=>{e.addEventListener("click",q,!1)})}w.length>0&&w.forEach(e=>{e.addEventListener("click",t=>{let o=e.parentNode.querySelector(".active-size");if(o){let t=e.parentNode.getAttribute("data-id"),n=o.textContent,r=e.parentNode.getAttribute("data-shop");"ONE"==n?C(t,r):C(t,r,n),j(r),o.classList.toggle("active-size")}else f()})}),L();let E=document.querySelector(".slider-cards__swiper"),k=document.querySelectorAll(".product__card-container-item");if(E||k.length>0){function x(e){i=this;let t=i.getAttribute("data-prod-id"),o=i.parentNode.parentNode.parentNode,n=o.querySelector("[data-json]"),r=o.querySelector("[data-id]"),l=n.getAttribute("data-json"),a=JSON.parse(l),c=n.querySelector(".favorit"),d=n.parentNode.parentNode.querySelector(".cross-out-price"),u=d.nextElementSibling;i.parentNode.querySelector(".focus-prod").classList.remove("focus-prod"),i.classList.add("focus-prod"),a.forEach(e=>{if(e.product_id==t){let t=o.querySelector(".product__buy-container");t.setAttribute("href",e.href);let n=t.querySelector(".product__sizes-container");o.querySelector(".product__card-sub-wrapper").setAttribute("href",e.href),r.setAttribute("data-id",e.product_id);let l=o.querySelector("._icon-bag");if(!1!==e.special?(d.textContent=e.price,u.textContent=e.special,u.classList.add("old-price")):(d.textContent="",u.textContent=e.price,u.classList.remove("old-price")),n){for(;n.firstChild;)n.removeChild(n.firstChild);e.sizes.forEach(e=>{2==e.stock_status_id?n.insertAdjacentHTML("beforeend",`\n\t\t\t                            <div class="product__sizes-item item-active" data-stock-status="${e.stock_status_id}">${e.size}</div>\n\t\t\t                        `):3==e.stock_status_id?n.insertAdjacentHTML("beforeend",`\n\t\t\t                            <div class="product__sizes-item inform-card" data-stock-status="${e.stock_status_id}">${e.size}</div>\n\t\t\t                        `):1==e.stock_status_id&&n.insertAdjacentHTML("beforeend",`\n\t\t\t                            <div class="product__sizes-item" data-stock-status="${e.stock_status_id}">${e.size}</div>\n\t\t\t                        `)}),document.querySelectorAll("[data-stock-status]").forEach(e=>{e.removeEventListener("click",q,!1)}),L()}else l&&e.sizes.forEach(e=>{l.setAttribute("data-stock-status",e.stock_status_id)});let i=o.querySelector(".product__card-sub-wrapper");for(;i.firstChild;)i.removeChild(i.firstChild);e.images.forEach(e=>{i.insertAdjacentHTML("afterbegin",`\n\t\t\t                        <div class="product__card-img-cont swiper-slide">\n\t\t\t                            <img class="slide-img" src="${e.href}">\n\t\t\t                        </div>\n\t\t\t                    `)}),Array.isArray(s)?s.map(e=>{e.update()}):s.update(),e.added_to_wishlist?(c.classList.remove("_icon-favorites"),c.classList.add("_icon-favorites-fill")):(c.classList.add("_icon-favorites"),c.classList.remove("_icon-favorites-fill"))}})}document.querySelectorAll("[data-prod-id]").forEach(e=>{e.addEventListener("click",x,!1)})}function A(e,t=""){let o=u.querySelector(".pre-size");d(o),o.insertAdjacentHTML("afterbegin",`<button type="button" class="card__description-size ${""===t?"empty-size":""}" data-confirm=${e}>${t}</button>`),$(u).modal()}let N=document.querySelector(".confirm__pre-order");function j(e){let t={shop_id:e};$.ajax({url:"index.php?route=product/product/resorvedOfflineProduct",type:"post",data:t,dataType:"json",success:function(e){},error:function(e){throw new Error(e)}})}function C(t,o,n=""){let r={product_id:t,quantity:1,shop_id:o,option:{[t]:n}};$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:r,dataType:"json",success:function(o){!function(t){let o=document.querySelector(".basket__items"),n=document.querySelector(".basket__count-container");d(o),d(n),n.insertAdjacentHTML("beforeend",`\n\t\t\t\t<div class="basket__count">\n                    <div class="basket__count-title">${t.total[0].product_total_title}</div>\n                    <div class="basket__count-price">${t.total[0].product_total_price}</div>\n                </div>\n\t\t\t`),t.cart.forEach(e=>{o.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t<div class="basket__item">\n\t\t\t\t\t\t<a href="${e.product_href}" class="basket__img">\n\t\t\t\t\t\t\t<img src="${e.product_thumb}" alt="">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class="basket__info">\n\t\t\t\t\t\t\t<div class="basket__info-title">\n\t\t\t\t\t\t\t\t<a href="${e.product_href}" class="basket__info-title-text">${e.product_name}</a>\n\t\t\t\t\t\t\t\t<div role="button" class="_icon-cancel" data-remove-id=${e.cart_id}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="basket__info-art">Арт. ${e.product_sku}</div>\n\t\t\t\t\t\t\t<div class="basket__info__details">\n\t\t\t\t\t\t\t\t<div class="basket__info__details-sub">\n\t\t\t\t\t\t\t\t\t<div class="basket__info__details-size">${e.product_size}</div>\n\t\t\t\t\t\t\t\t\t<div class="basket__info__details-amount">\n\t\t\t\t\t\t\t\t\t\t<div class="spinner-basket-container">\n\t\t\t\t\t\t\t\t\t\t\t<div class="spinner-border spinner-basket" role="status">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="sr-only">Загрузка...</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<button class="step stepDown" type="button" data-edit-id="${e.cart_id}">-</button>\n\t\t\t\t\t\t\t\t\t\t<input type="number" min="1" max="${e.max}" value="${e.product_quantity}" readonly="" class="details-amount">\n\t\t\t\t\t\t\t\t\t\t<button class="step stepUp" type="button" data-edit-id="${e.cart_id}">+</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="basket__info__price">\n\t\t\t\t\t\t\t\t\t<div class="basket__info__price-title">${e.product_title}</div>\n\t\t\t\t\t\t\t\t\t<div class="basket__info__price-cost">${e.product_price}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`)}),e.classList.toggle("show-effect"),l.classList.toggle("show-modal"),m(t.total[0].products_total_count),M(),p(),T()}(o),function(e,t){let o=t.cart.find(t=>t.product_id===e);try{fbq("track","AddToCart",{content_ids:[o.product_sku],currency:"UAH"})}catch(e){console.error(e)}}(t,o)},error:function(e){throw new Error(e)}})}function T(){let e=document.querySelectorAll(".step");e.length>0&&e.forEach(e=>{e.addEventListener("click",t=>{let o=e.parentNode.querySelector(".details-amount").value,n=e.getAttribute("data-edit-id");e.classList.contains("stepUp")&&!e.classList.contains("disabled-item")&&B(o,n,"+",e),e.classList.contains("stepDown")&&B(o,n,"-",e)})})}function B(e,t,o,r){let l=r.parentNode.querySelector(".spinner-basket-container"),i="",s="",d="",u="";document.querySelector(".shopping__inform-promo")&&(i=document.querySelector(".shopping__inform-promo").value),document.querySelector(".shopping__inform-certificate")&&(s=document.querySelector(".shopping__inform-certificate").value),a&&(d=r.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-magazine-id"),u=document.querySelector("#pay").value);let p={quantity:e,key:t,step:o,promo:i,certificate:s,shop_id:d,client_was_going_to_pay:u};$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:p,dataType:"json",beforeSend:function(){c(l,"flex")},success:function(e){if(c(l,"none"),e.is_max)r.classList.add("disabled-item");else{r.parentNode.querySelector(".stepUp").classList.remove("disabled-item"),a?(I(e,r),y(e),n(e),"products not found!"!==e.shipping_methods&&P(e)):(I(e,r),m(e.products_total_count))}},error:function(e){throw c(l,"none"),new Error(e)}})}function I(e,t){let o=document.querySelector(".basket__count-price");if(e.value>0){let n=t.parentNode.querySelector(".details-amount"),r=t.parentNode.parentNode.parentNode.querySelector(".basket__info__price-cost");n.value=e.value,o.innerHTML=e.product_total_price,r.innerHTML=e.product_total}else t.parentNode.parentNode.parentNode.parentNode.parentNode.remove(),o.innerHTML=e.product_total_price;p()}function M(){let e=document.querySelectorAll("[data-remove-id]");e.length>0&&e.forEach(e=>{e.addEventListener("click",t=>{a?function(e){let t=e.parentNode.parentNode.parentNode.querySelector(".confirm__basket");t.style.display="flex",document.addEventListener("click",(function(o){let n=o.target,r=n==t||t.contains(n),l=n==e,i=t.style.display="flex",s=n.classList.contains("confirm__basket-no"),a=n.classList.contains("confirm__basket-yes");(!r&&!l&&i||s||a)&&(t.style.display="none")}))}(e):z(e.getAttribute("data-remove-id"),e)})})}function z(e,t){let o="",r="",l="";a&&(l=document.querySelector("#pay").value),document.querySelector(".shopping__inform-promo")&&(o=document.querySelector(".shopping__inform-promo").value),document.querySelector(".shopping__inform-certificate")&&(r=document.querySelector(".shopping__inform-certificate").value),data={key:e,promo:o,certificate:r,client_was_going_to_pay:l},$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:data,dataType:"json",success:function(e){if(a){t.parentNode.parentNode.parentNode.remove(),t.parentNode.parentNode.parentNode.remove(),document.querySelector(".basket__count-price").innerHTML=e.product_total_price,n(e),"products not found!"!==e.shipping_methods&&P(e),y(e),p()}else{t.parentNode.parentNode.parentNode.remove(),document.querySelector(".basket__count-price").innerHTML=e.product_total_price,p(),m(e.products_total_count)}},error:function(e){throw new Error(e)}})}function P(e){let t=document.getElementById("orderMethod"),o=Object.values(e.shipping_methods).filter(e=>!0===e.status);if(t.options.length-1!==o.length){d(t),t.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t<option value=""></option>\n\t\t\t\t'),!0===e.shipping_methods.flat.status&&t.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t\t<option value="flat">${e.shipping_methods.flat.name}</option>\n\t\t\t\t\t`),!0===e.shipping_methods.novaposhta.status&&t.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t<option value="novaposhta">${e.shipping_methods.novaposhta.name}</option>\n\t\t\t\t`),!0===e.shipping_methods.ukposhta.status&&t.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t<option value="ukposhta">${e.shipping_methods.ukposhta.name}</option>\n\t\t\t\t`),!0===e.shipping_methods.justin.status&&t.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t<option value="justin">${e.shipping_methods.justin.name}</option>\n\t\t\t\t`),$(".select__order-deliver").select2("destroy"),$(".select__order-deliver").select2({minimumResultsForSearch:-1,width:"100%"}),document.getElementById("shop").querySelector("option:checked").removeAttribute("selected"),d(document.getElementById("regions")),d(document.getElementById("cities")),d(document.getElementById("warehouses")),document.querySelector(".shop-method").style.display="none",document.querySelector(".other-method").style.display="none"}}N&&N.addEventListener("click",e=>{let t=document.querySelector("[data-confirm]"),o=t.getAttribute("data-confirm"),n=t.getAttribute("data-shop"),r=t.textContent;"ONE"==r?C(o,n):C(o,n,r),j(n)}),T(),M(),a&&document.querySelectorAll(".confirm__basket-yes").forEach(e=>{e.addEventListener("click",()=>{let t=e.parentNode.parentNode.parentNode.querySelector("[data-remove-id]");z(t.getAttribute("data-remove-id"),t)})});let V=document.querySelectorAll(".personal__title");V.length>0&&V.forEach(e=>{e.addEventListener("click",t=>{e.classList.contains("active-title")||(!function(e){let t=document.querySelector(".personal-new"),o=document.querySelector(".personal-loged"),n=document.querySelector(".order__user-wrapper"),r=document.querySelector(".login__user-wrapper"),l=document.querySelector(".delivery__methods");e.classList.contains("personal-new")?(n.style.display="block",r.style.display="none",l.style.display="block",o.classList.remove("active-title")):e.classList.contains("personal-loged")&&(n.style.display="none",r.style.display="flex",l.style.display="none",t.classList.remove("active-title"))}(e),e.classList.toggle("active-title"))})})}(),
//! other change
function(){let e=document.querySelector(".short-description__text");if(e){0==e.textContent.trim().length&&(e.nextElementSibling.style.display="none")}if(document.querySelector(".not-found-wrapper")){let e=document.querySelector("header");e&&(e.style.display="none");let t=document.querySelector("footer");t&&(t.style.display="none")}let t=document.getElementById("user-date_of_birth"),o=document.getElementById("date_of_birth");function n(e){let t=(new Date).toISOString().split("T")[0].split("-"),o=t[0],n=`${parseInt(o)-16}-${t[1]}-${t[2]}`,r=new Date(parseInt(o)-16,t[1],t[2]);if("date"!=e.type)try{""!==e.value&&e.setAttribute("readonly","true");let t=""===e.value?r:new Date(e.value),o=""!==e.value&&new Date(e.value);datepicker(e,{maxDate:r,startDate:t,dateSelected:o,showAllDates:!0,overlayButton:"Select",formatter:(t,o,n)=>{const r=new Date(o),l=`${r.getFullYear()}-${parseInt(r.getMonth()+1)>=10?r.getMonth()+1:"0"+(r.getMonth()+1)}-${parseInt(r.getDate())>=10?r.getDate():"0"+r.getDate()}`;t.value=l,e.setAttribute("readonly","true")}})}catch(e){console.error(e)}return e.max=n}t?n(t):o&&n(o);let r=document.getElementById("mailingForm");if(r){document.querySelectorAll(".input-words").forEach(e=>{e.addEventListener("input",t=>{e.value=e.value.replace(/[^a-zа-яёії\s]/gi,"")})});let e=document.getElementById("mailing-firstname"),t=document.getElementById("mailing-text"),o=document.getElementById("mailing-email"),n=document.querySelector(".spinner-contacts-container"),l=document.querySelector(".spinner-contacts"),s=document.querySelector(".error-mail"),a=document.querySelector(".success-mail");function i(){e.value="",telephone.value="",t.value="",o.value="",n.style.display="none",l.style.display="none",s.style.display="none",a.style.display="none"}r.addEventListener("submit",r=>{r.preventDefault(),""==document.getElementById("mailingCapcha").value&&function(e){n.style.display="flex",l.style.display="block",$.ajax({url:"index.php?route=information/information/sendEmail",type:"post",dataType:"json",data:e,success:function(e){setTimeout(()=>i(),3e3),l.style.display="none",a.style.display="block"},error:function(e){throw setTimeout(()=>i(),3e3),l.style.display="none",s.style.display="block",new Error(e)}})}({name:e.value,text:t.value,email:o.value})})}let a=document.querySelectorAll(".question-item__title__container");a.length>0&&a.forEach(e=>{e.addEventListener("click",()=>{let t=e.nextElementSibling,o=e.querySelector("._icon-cancel");t.classList.contains("show")?o.classList.remove("scale-icon"):o.classList.add("scale-icon"),$(t).collapse("toggle")})});let c=document.querySelectorAll(".instruction-btn");if(c.length>0){let e=document.getElementById("instructionModal");$(e).on("hidden.bs.modal",(function(t){e.querySelector(".show-container").classList.toggle("show-container")})),c.forEach(t=>{t.addEventListener("click",()=>{$(e).modal("toggle");let o=t.getAttribute("data-info");e.querySelector(`[data-info="${o}"]`).classList.toggle("show-container")})})}let d=document.querySelectorAll(".hashtag-filter");d&&d.forEach(e=>{e.addEventListener("click",t=>{!function(e){let t={hashtag:e};$.ajax({url:"index.php?route=blog/blog/addHashtags",type:"post",dataType:"json",data:t,success:function(e){location.href="index.php?route=blog/blog"},error:function(e){throw new Error(e)}})}(e.getAttribute("data-hashtag"))})});let u=document.querySelector(".filters");if(u){let e,t=document.querySelector(".init-container-btn"),o=document.querySelector(".close-filters");function p(){let e=document.querySelectorAll(".noUi-handle");window.matchMedia("(max-width: 1110px)").matches&&u.classList.contains("show-effect")?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="auto",u.classList.contains("show-effect")?setTimeout(()=>{u.style.boxShadow="0 1px 4px -1px rgba(0, 0, 0, 0.75)",e.forEach(e=>{e.style.border="1px solid #30313229",e.style.borderRadius="50%"})},100):(u.style.boxShadow="none",e.forEach(e=>{e.style.border="none",e.style.borderRadius="0"}))}function m(){e=$(".filters-select2").select2({closeOnSelect:!1,dropdownCssClass:"filters-dropdown",language:{noResults:function(){return"..."}},width:"100%",allowHtml:!0,allowClear:!0}),e.each((function(){!function(e){e.next().find(".select2-selection__choice__remove").remove(),e.next().find(".select2-selection__clear").text("").addClass("_icon-cancel");let t=e.next().find(".select2-selection__choice").length,o=e.attr("data-text");t>1&&(e.next().find(".select2-selection__choice").remove(),e.next().find(".select2-selection__rendered").append(`<li class="select2-selection__choice">${o}: ${t}</li>`));t>0&&e.next().find(".select2-search--inline").css("display","none")}($(this)),$(this).on("change",(function(){$(this).next().find(".select2-selection__choice__remove").remove(),$(this).next().find(".select2-selection__clear").text("").addClass("_icon-cancel");let e=$(this).next().find(".select2-selection__choice").length,t=$(this).attr("data-text");e>1&&($(this).next().find(".select2-selection__choice").remove(),$(this).next().find(".select2-selection__rendered").append(`<li class="select2-selection__choice">${t}: ${e}</li>`)),e>0?$(this).next().find(".select2-search--inline").css("display","none"):$(this).next().find(".select2-search--inline").css("display","inline-block")}))}))}if(document.querySelector(".filter-title-close").addEventListener("click",()=>{u.classList.toggle("show-effect"),p()}),o.addEventListener("click",()=>{u.classList.toggle("show-effect"),p()}),t.addEventListener("click",()=>{u.classList.toggle("show-effect"),p()}),window.matchMedia("(min-width: 1110px)").matches&&window.addEventListener("resize",(function(e){m()}),!0),m(),window.matchMedia("(max-width: 1110px)").matches){let e=document.querySelector(".filter-size-js"),t=document.querySelector(".filter-params-js"),o=document.querySelector(".filter-price-js"),n=document.querySelector(".filter-regulate-js"),r=document.getElementById("filterSize"),l=document.getElementById("filterPrice"),i=document.getElementById("filterParams"),s=document.getElementById("filterRegulate");i&&(i.classList.add("collapse"),t.addEventListener("click",()=>{$("#filterParams").collapse("toggle"),t.querySelector(".icon").classList.toggle("rotate270")})),r.classList.add("collapse"),l.classList.add("collapse"),s.classList.add("collapse"),e.addEventListener("click",()=>{$("#filterSize").collapse("toggle"),e.querySelector(".icon").classList.toggle("rotate270")}),o.addEventListener("click",()=>{$("#filterPrice").collapse("toggle"),o.querySelector(".icon").classList.toggle("rotate270")}),n.addEventListener("click",()=>{$("#filterRegulate").collapse("toggle"),n.querySelector(".icon").classList.toggle("rotate270")})}let n=document.getElementById("noUiSliderRange"),r=document.getElementById("inputMin"),l=document.getElementById("inputMax"),i=r.getAttribute("data-chose"),s=l.getAttribute("data-chose");
//!get filters
function y(e,t=!1){let o=document.getElementById("filterParams"),n=document.getElementById("filterSize"),r=[];if(o){let e=document.getElementById("allFilters");e.value=r;let t=o.querySelectorAll("option:checked");t.length>0&&(t.forEach(e=>{r.push(e.value)}),e.value=r)}let l=[],i=document.getElementById("allSizes");i.value=l;let s=n.querySelectorAll("option:checked");s.length>0&&(s.forEach(e=>{l.push(e.value)}),i.value=l);let a=e.querySelector("#inputMin"),c=e.querySelector("#inputMax"),d=e.querySelector('input[name="regulate"]:checked').value;return{page:t||e.getAttribute("data-form-page"),path:e.getAttribute("data-path"),route:e.getAttribute("data-route"),all_sizes:l,all_filters:r,price_min:a.value,price_max:c.value,regulate:d,search:e.getAttribute("data-search")}}noUiSlider.create(n,{start:[Number(i),Number(s)],step:100,connect:!0,range:{min:Number(r.value),max:Number(l.value)}}),n.noUiSlider.on("update",(function(e,t){let o=e[t];t?l.value=Number(o):r.value=Number(o)}));let a=document.getElementById("filtersForm");a&&a.addEventListener("submit",e=>{e.preventDefault(),f(y(a))})}function f(e){$.ajax({url:"index.php?route=seo/set/parameters",dataType:"json",type:"post",data:e,success:function(e){window.location=e.href},error:function(e){throw new Error(e)}})}let _=document.querySelectorAll("[data-page]");_.length>0&&_.forEach(e=>{e.addEventListener("click",()=>{let t=document.getElementById("filtersForm");t&&f(y(t,e.getAttribute("data-page")))})});let g=document.querySelectorAll(".order-collapse");if(g.length>0&&g.forEach(e=>{e.addEventListener("click",t=>{let o=e.nextElementSibling;$(o).collapse("toggle"),e.querySelector(".icon").classList.toggle("rotate270")})}),document.querySelector(".user-data-container")){document.querySelectorAll(".input-words").forEach(e=>{e.addEventListener("input",t=>{e.value=e.value.replace(/[^a-zа-яёії\s]/gi,"")})}),document.querySelector("#user-data").addEventListener("submit",t=>{t.preventDefault(),""==document.querySelector(".user-persone-capcha").value&&function(t){$.ajax({url:"index.php?route=account/account/edit",dataType:"json",type:"post",data:t,beforeSend:function(){document.querySelector(".personal-btn").disabled=!0},success:function(t){1==t.unique_email?window.location.href="index.php?route=account/account":(e.nextElementSibling.classList.add("error-label"),e.setCustomValidity(t.unique_email),e.reportValidity(),document.querySelector(".personal-btn").disabled=!1)},error:function(e){throw document.querySelector(".personal-btn").disabled=!1,new Error(e)}})}(function(){let e=document.getElementById("user-lastname"),t=document.getElementById("user-firstname"),o=document.getElementById("user-email"),n=document.getElementById("user-date_of_birth"),r=document.getElementById("user-gender");return{lastname:e.value,firstname:t.value,email:o.value,date_of_birth:n.value,gender:r.value}}())});let e=document.getElementById("user-email");e.addEventListener("keyup",(function(t){13!=t.keyCode&&(e.nextElementSibling.classList.remove("error-label"),e.setCustomValidity(""),e.reportValidity())}),!1)}window.matchMedia("(max-width: 650px)").matches&&function(){let e=document.querySelector(".user-menu"),t=document.querySelector("body");if(e){let o=document.querySelector(".close-item"),n=document.querySelector(".personal__information__wrapper");e.addEventListener("click",(function(){n.classList.toggle("show-effect"),t.classList.toggle("body-not-scroll"),l()}),!0),o.addEventListener("click",(function(){n.classList.toggle("show-effect"),t.classList.toggle("body-not-scroll"),l()}),!0)}}(),window.matchMedia("(min-width: 640px)").matches&&document.querySelectorAll(".product__buy-container").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})});let h=document.querySelector(".compare__card-link");if(h){h.addEventListener("click",e=>{let t=document.querySelector(".compare__card-container").querySelector("._icon-checked"),o=t.classList.contains("compare-init");if(o||"0"!=getComputedStyle(t).opacity)o||e.preventDefault();else{e.preventDefault(),t.classList.add("opacity-checked");let o=document.querySelector(".buy__container").getAttribute("data-id");n=o,r=t,$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+n,dataType:"json",success:function(e){e.total>1&&r.classList.add("compare-init")},error:function(e){throw new Error(e)}})}var n,r})}let b=document.querySelector(".compare__wrapper"),v=document.querySelectorAll(".custom-checkbox"),w=document.getElementById("mainCompare");b&&v.length>0&&v.forEach(e=>{e.addEventListener("change",e=>{w.submit()})});let S=document.querySelectorAll(".favorit"),q=document.querySelector(".unknown-user");if(S.forEach(e=>{e.addEventListener("click",t=>{let o,n=e.parentNode.querySelector("[data-id]"),r=document.querySelector(".header-favorites"),l=t.target,i=document.querySelector(".complect-container");if(q){document.querySelector("#universalModal").querySelectorAll(".universalModal").forEach(e=>{e.style.display="none"}),document.querySelector(".favoriteModal").style.display="block",$("#universalModal").modal()}else if(n&&!i){n=n.getAttribute("data-id");let t=e.parentNode,o=e.parentNode.getAttribute("data-json");s(n,l,JSON.parse(o),t)}else{o=document.querySelector(".card__container").querySelector("[data-id]").getAttribute("data-id"),s(o,l)}function s(e,t,o=null,n=null){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+e,dataType:"json",success:function(l){o&&(o.forEach(t=>{t.product_id==e&&(t.added_to_wishlist=l.added_to_wishlist)}),n.setAttribute("data-json",JSON.stringify(o))),l.total>0?r.textContent=`(${l.total})`:r.textContent="",t.classList.contains("_icon-favorites")?(t.classList.remove("_icon-favorites"),t.classList.add("_icon-favorites-fill"),function(){try{fbq("track","AddToWishlist")}catch(e){console.error(e)}}()):t.classList.contains("_icon-favorites-fill")&&(t.classList.remove("_icon-favorites-fill"),t.classList.add("_icon-favorites"))},error:function(e){throw new Error(e)}})}})}),document.querySelector(".grid__favorite-wrapper")){document.querySelectorAll("._icon-favorites-fill").forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{window.location.reload()},200)})})}let L=document.querySelector(".grid__catalog-container");if(L){window.onresize=()=>{window.matchMedia("(max-width: 767px)").matches&&(L.classList.remove("grid__catalog-container-2"),L.classList.remove("grid__catalog-container-3"),L.classList.add("grid__catalog-container"))},document.querySelectorAll(".top__pagination-item").forEach(e=>{e.addEventListener("click",t=>{e.parentNode.querySelectorAll(".look-by-active").forEach(e=>e.classList.toggle("look-by-active")),e.classList.toggle("look-by-active");let o=e.getAttribute("data-look");L.classList.remove("grid__catalog-container-2"),L.classList.remove("grid__catalog-container-3"),L.classList.remove("grid__catalog-container"),L.classList.add(o),Array.isArray(s)?s.map(e=>{e.update()}):s.update()})})}document.querySelector("#checkoutForm");let E=document.querySelector(".nuot__grid-wrapper");E&&E.addEventListener("click",e=>{e.target.parentNode.classList.contains("button-link")||(window.location.href="index.php?route=nuot/nuot_page")});let k=document.querySelector(".card__container");if(k){let e,t,o=[],n=k.querySelector("[data-id]").getAttribute("data-id"),r=k.getAttribute("data-authuser"),l=function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}("recently_watched");if(e=""!=r&&r,void 0!==l){let e=JSON.parse(l);e.products.push(n);let t=e.products;o=[...new Set(t)]}else o.push(n);t={products:o,user_id:e},document.cookie="recently_watched="+JSON.stringify(t)+"; max-age=86400"}let x=document.querySelector("#newstler"),A=document.querySelector(".footer__sub-action"),N=document.querySelector(".footer__sub-success");x&&x.addEventListener("submit",(function(e){e.preventDefault();let t=x.getElementsByTagName("input"),o={email:t[0].value};""==t[1].value&&$.ajax({url:"index.php?route=mail/newsletter/setToDatabase",type:"post",data:o,dataType:"json",success:function(e){t[0].value="",A.style.display="none",N.style.display="block"},error:function(e){throw new Error(e)}})}));let j=document.querySelectorAll(".btn-slider-span");if(j.length>0&&j.forEach(e=>{let t=e.parentNode.querySelector("._icon-arrow-slider-1"),o=e.parentNode.parentNode,n=e.parentNode.parentNode.parentNode;t.classList.contains("swiper-button-lock")?o.classList.contains("swiper-container")?e.parentNode.style.display="none":n.classList.contains("slider-controls-container")&&(n.style.display="none"):e.parentNode.previousElementSibling.classList.contains("swiper-pagination-lock")&&(e.parentNode.previousElementSibling.style.display="none")}),document.querySelector(".subcategory__wrapper")&&(window.matchMedia("(max-width: 768px)").matches?UIkit.slider(".uk-subcat-slider",{draggable:!0,autoplay:!1}):UIkit.slider(".uk-subcat-slider",{draggable:!1,autoplay:!0})),document.querySelectorAll(".lang-modal-btn").length>0){function C(){[...document.querySelectorAll(".lang-arrow")].forEach(e=>{e.classList.toggle("rotate270")})}$("#langModal").on("hide.bs.modal",(function(e){C()})),$("#langModal").on("show.bs.modal",(function(e){C()}));let e=document.querySelector(".lang-mob-btn-js");e&&e.addEventListener("click",()=>{document.querySelector(".menu__mobile-modal").classList.remove("active-modal")}),$(".country-lang-sel").select2({language:{noResults:function(){return"..."}},width:"100%",dropdownParent:$("#langModal"),templateResult:function(e,t){if(!e.id)return e.text;!function(e,t){$(t).addClass($(e.element).attr("class")),e.text}(e,t);return $(`<span class="option-flag-container"><img src="/image//${e.element.value.toLowerCase()}.png" class="img-flag" />${e.text}</span>`)},templateSelection:function(e){return $(`<span class="select-flag-container"><img src="/image/${e.id}.png" class="img-flag" />${e.text}</span>`)}}),$(".lang-select").select2({minimumResultsForSearch:-1,width:"100%"})}let T=document.querySelector(".icon360"),B=!0;if(T){let e,t,o=document.querySelector(".left360"),n=document.querySelector(".right360"),r=document.querySelector(".auto-play360"),l=document.getElementById("modal360"),i=document.querySelector(".body360"),s=i.getAttribute("data-autoplay"),a=i.querySelector(".wait"),c=new MutationObserver((function(e){e.forEach((function(e){!e.target.classList.contains("cloudimage-360-loader")&&parseInt(e.target.attributes.height.value)>0?(a.style.display="none",t=i.querySelector(".cloudimage-360-loader"),c.disconnect(),c.observe(t,d)):e.target.classList.contains("cloudimage-360-loader")&&function(e){let t=e.split("width: ")[1];100===parseInt(t)&&(l.addEventListener("click",I,!1),c.disconnect(),o.removeAttribute("disabled"),n.removeAttribute("disabled"),r.removeAttribute("disabled"))}(e.target.attributes.style.value)}))}));let d={attributes:!0};let u=new Proxy({},{set:function(e,t,l){return"play"===t&&!0===l?(r.classList.remove("_icon-play3"),r.classList.add("_icon-pause2"),M(n,"mousedown")):"play"===t&&!1===l&&(r.classList.add("_icon-play3"),r.classList.remove("_icon-pause2"),o.click()),e[t]=l,!0}});function I(e){e.target.classList.contains("_icon-play3")?u.play=!0:e.target.classList.contains("_icon-pause2")?u.play=!1:e.target.classList.contains("show")&&r.classList.contains("_icon-pause2")?(u.play=!1,M(o,"mousedown"),M(o,"mouseup")):!0===u.play&&(u.play=!1)}$("#modal360").on("show.bs.modal",(function(){B?(window.CI360.init(),B=!1,"true"===s&&(u.play=!0),e=l.querySelector("canvas"),c.observe(e,d),a.style.display="block"):l.addEventListener("click",I,!1)})),$("#modal360").on("hidden.bs.modal",(function(){u.play=!1,l.removeEventListener("click",I,!1)}))}function M(e,t){let o=document.createEvent("MouseEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}}()};